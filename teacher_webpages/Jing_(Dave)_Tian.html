<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>
davejingtian.org | Still got dreams; still got hopes&#8230;</title>
<link rel="profile" href="https://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="https://s2.wp.com/wp-content/themes/pub/twentyten/style.css?ver=20190507" />
<link rel="pingback" href="https://davejingtian.org/xmlrpc.php">
<meta name='robots' content='max-image-preview:large' />

<!-- Async WordPress.com Remote Login -->
<script id="wpcom_remote_login_js">
var wpcom_remote_login_extra_auth = '';
function wpcom_remote_login_remove_dom_node_id( element_id ) {
	var dom_node = document.getElementById( element_id );
	if ( dom_node ) { dom_node.parentNode.removeChild( dom_node ); }
}
function wpcom_remote_login_remove_dom_node_classes( class_name ) {
	var dom_nodes = document.querySelectorAll( '.' + class_name );
	for ( var i = 0; i < dom_nodes.length; i++ ) {
		dom_nodes[ i ].parentNode.removeChild( dom_nodes[ i ] );
	}
}
function wpcom_remote_login_final_cleanup() {
	wpcom_remote_login_remove_dom_node_classes( "wpcom_remote_login_msg" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_key" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_validate" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_js" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_request_access_iframe" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_request_access_styles" );
}

// Watch for messages back from the remote login
window.addEventListener( "message", function( e ) {
	if ( e.origin === "https://r-login.wordpress.com" ) {
		var data = {};
		try {
			data = JSON.parse( e.data );
		} catch( e ) {
			wpcom_remote_login_final_cleanup();
			return;
		}

		if ( data.msg === 'LOGIN' ) {
			// Clean up the login check iframe
			wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_key" );

			var id_regex = new RegExp( /^[0-9]+$/ );
			var token_regex = new RegExp( /^.*|.*|.*$/ );
			if (
				token_regex.test( data.token )
				&& id_regex.test( data.wpcomid )
			) {
				// We have everything we need to ask for a login
				var script = document.createElement( "script" );
				script.setAttribute( "id", "wpcom_remote_login_validate" );
				script.src = '/remote-login.php?wpcom_remote_login=validate'
					+ '&wpcomid=' + data.wpcomid
					+ '&token=' + encodeURIComponent( data.token )
					+ '&host=' + window.location.protocol
					+ '//' + window.location.hostname
					+ '&postid=2880'
					+ '&is_singular=';
				document.body.appendChild( script );
			}

			return;
		}

		// Safari ITP, not logged in, so redirect
		if ( data.msg === 'LOGIN-REDIRECT' ) {
			window.location = 'https://wordpress.com/log-in?redirect_to=' + window.location.href;
			return;
		}

		// Safari ITP, storage access failed, remove the request
		if ( data.msg === 'LOGIN-REMOVE' ) {
			var css_zap = 'html { -webkit-transition: margin-top 1s; transition: margin-top 1s; } /* 9001 */ html { margin-top: 0 !important; } * html body { margin-top: 0 !important; } @media screen and ( max-width: 782px ) { html { margin-top: 0 !important; } * html body { margin-top: 0 !important; } }';
			var style_zap = document.createElement( 'style' );
			style_zap.type = 'text/css';
			style_zap.appendChild( document.createTextNode( css_zap ) );
			document.body.appendChild( style_zap );

			var e = document.getElementById( 'wpcom_request_access_iframe' );
			e.parentNode.removeChild( e );

			document.cookie = 'wordpress_com_login_access=denied; path=/; max-age=31536000';

			return;
		}

		// Safari ITP
		if ( data.msg === 'REQUEST_ACCESS' ) {
			console.log( 'request access: safari' );

			// Check ITP iframe enable/disable knob
			if ( wpcom_remote_login_extra_auth !== 'safari_itp_iframe' ) {
				return;
			}

			// If we are in a "private window" there is no ITP.
			var private_window = false;
			try {
				var opendb = window.openDatabase( null, null, null, null );
			} catch( e ) {
				private_window = true;
			}

			if ( private_window ) {
				console.log( 'private window' );
				return;
			}

			var iframe = document.createElement( 'iframe' );
			iframe.id = 'wpcom_request_access_iframe';
			iframe.setAttribute( 'scrolling', 'no' );
			iframe.setAttribute( 'sandbox', 'allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-top-navigation-by-user-activation' );
			iframe.src = 'https://r-login.wordpress.com/remote-login.php?wpcom_remote_login=request_access&origin=' + encodeURIComponent( data.origin ) + '&wpcomid=' + encodeURIComponent( data.wpcomid );

			var css = 'html { -webkit-transition: margin-top 1s; transition: margin-top 1s; } /* 9001 */ html { margin-top: 46px !important; } * html body { margin-top: 46px !important; } @media screen and ( max-width: 660px ) { html { margin-top: 71px !important; } * html body { margin-top: 71px !important; } #wpcom_request_access_iframe { display: block; height: 71px !important; } } #wpcom_request_access_iframe { border: 0px; height: 46px; position: fixed; top: 0; left: 0; width: 100%; min-width: 100%; z-index: 99999; background: #23282d; } ';

			var style = document.createElement( 'style' );
			style.type = 'text/css';
			style.id = 'wpcom_request_access_styles';
			style.appendChild( document.createTextNode( css ) );
			document.body.appendChild( style );

			document.body.appendChild( iframe );
		}

		if ( data.msg === 'DONE' ) {
			wpcom_remote_login_final_cleanup();
		}
	}
}, false );

// Inject the remote login iframe after the page has had a chance to load
// more critical resources
window.addEventListener( "DOMContentLoaded", function( e ) {
	var iframe = document.createElement( "iframe" );
	iframe.style.display = "none";
	iframe.setAttribute( "scrolling", "no" );
	iframe.setAttribute( "id", "wpcom_remote_login_key" );
	iframe.src = "https://r-login.wordpress.com/remote-login.php"
		+ "?wpcom_remote_login=key"
		+ "&origin=aHR0cHM6Ly9kYXZlamluZ3RpYW4ub3Jn"
		+ "&wpcomid=14794791"
		+ "&time=1726197245";
	document.body.appendChild( iframe );
}, false );
</script>
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel="alternate" type="application/rss+xml" title="davejingtian.org &raquo; Feed" href="https://davejingtian.org/feed/" />
<link rel="alternate" type="application/rss+xml" title="davejingtian.org &raquo; Comments Feed" href="https://davejingtian.org/comments/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
	<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s0.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1719498190i&ver=6.7-alpha-59016"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\u2b1b","\ud83d\udc26\u200b\u2b1b")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<link crossorigin='anonymous' rel='stylesheet' id='all-css-0-1' href='https://s2.wp.com/wp-content/mu-plugins/jetpack-plugin/moon/modules/infinite-scroll/infinity.css?m=1685131895i&cssminify=yes' type='text/css' media='all' />
<style id='wp-emoji-styles-inline-css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link crossorigin='anonymous' rel='stylesheet' id='all-css-2-1' href='https://s1.wp.com/_static/??-eJylzFsKgCAQQNENlZMhPT6itaQNZk0WjhbtPmkLfV4uHLjP0hw+oo9wUrLOM9iUU2Ow+QSES/ZCigp0cjSDpsNsJTkdpvAAx4dQGOYC/kFxwf2Dxn2Qba26plN9u74k/Dhk&cssminify=yes' type='text/css' media='all' />
<style id='wp-block-library-inline-css'>
.has-text-align-justify {
	text-align:justify;
}
.has-text-align-justify{text-align:justify;}
</style>
<link crossorigin='anonymous' rel='stylesheet' id='all-css-4-1' href='https://s2.wp.com/_static/??-eJzTLy/QzcxLzilNSS3WzyrWz01NyUxMzUnNTc0rQeEU5CRWphbp5qSmJyZX6uVm5uklFxfr6OPTDpRD5sM02efaGpoZmFkYGRuZGmQBAHPvL0Y=&cssminify=yes' type='text/css' media='all' />
<style id='jetpack-sharing-buttons-style-inline-css'>
.jetpack-sharing-buttons__services-list{display:flex;flex-direction:row;flex-wrap:wrap;gap:0;list-style-type:none;margin:5px;padding:0}.jetpack-sharing-buttons__services-list.has-small-icon-size{font-size:12px}.jetpack-sharing-buttons__services-list.has-normal-icon-size{font-size:16px}.jetpack-sharing-buttons__services-list.has-large-icon-size{font-size:24px}.jetpack-sharing-buttons__services-list.has-huge-icon-size{font-size:36px}@media print{.jetpack-sharing-buttons__services-list{display:none!important}}.editor-styles-wrapper .wp-block-jetpack-sharing-buttons{gap:0;padding-inline-start:0}ul.jetpack-sharing-buttons__services-list.has-background{padding:1.25em 2.375em}
</style>
<link crossorigin='anonymous' rel='stylesheet' id='all-css-6-1' href='https://s2.wp.com/_static/??-eJyVjEEOwiAQAD/ksgGN4sH4Fko3hJYCYZea/r49mF6Nx0lmBj8VfMlCWbCmHmJmDP3AgVqAIRU/M04k1fkZkttKFwgtjsiyJVKe+YL/LJqTmAP/yH35ZkZpqzRwXGoiaLSqG46R5TTgHL2Xl75bba/GPB/TDthVT3U=&cssminify=yes' type='text/css' media='all' />
<style id='classic-theme-styles-inline-css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<link crossorigin='anonymous' rel='stylesheet' id='all-css-8-1' href='https://s2.wp.com/_static/??-eJx9jcEKg0AMRH+oaVhorR7Eb9E16IpZg8min2889FZ6GYbhPQYPgbhlo2zIBWQtU8qKcdvJd5be0AmmMfW0Ejv2jKoP/K0daZzIXNdvB6PzvyJ+A8MgO6mCJ6fCYLN/6e113IZXU9WfUL/DcgHSTkDo&cssminify=yes' type='text/css' media='all' />
<style id='global-styles-inline-css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #fff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--blue: #0066cc;--wp--preset--color--medium-gray: #666;--wp--preset--color--light-gray: #f1f1f1;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--font-family--albert-sans: 'Albert Sans', sans-serif;--wp--preset--font-family--alegreya: Alegreya, serif;--wp--preset--font-family--arvo: Arvo, serif;--wp--preset--font-family--bodoni-moda: 'Bodoni Moda', serif;--wp--preset--font-family--bricolage-grotesque: 'Bricolage Grotesque', sans-serif;--wp--preset--font-family--cabin: Cabin, sans-serif;--wp--preset--font-family--chivo: Chivo, sans-serif;--wp--preset--font-family--commissioner: Commissioner, sans-serif;--wp--preset--font-family--cormorant: Cormorant, serif;--wp--preset--font-family--courier-prime: 'Courier Prime', monospace;--wp--preset--font-family--crimson-pro: 'Crimson Pro', serif;--wp--preset--font-family--dm-mono: 'DM Mono', monospace;--wp--preset--font-family--dm-sans: 'DM Sans', sans-serif;--wp--preset--font-family--dm-serif-display: 'DM Serif Display', serif;--wp--preset--font-family--domine: Domine, serif;--wp--preset--font-family--eb-garamond: 'EB Garamond', serif;--wp--preset--font-family--epilogue: Epilogue, sans-serif;--wp--preset--font-family--fahkwang: Fahkwang, sans-serif;--wp--preset--font-family--figtree: Figtree, sans-serif;--wp--preset--font-family--fira-sans: 'Fira Sans', sans-serif;--wp--preset--font-family--fjalla-one: 'Fjalla One', sans-serif;--wp--preset--font-family--fraunces: Fraunces, serif;--wp--preset--font-family--gabarito: Gabarito, system-ui;--wp--preset--font-family--ibm-plex-mono: 'IBM Plex Mono', monospace;--wp--preset--font-family--ibm-plex-sans: 'IBM Plex Sans', sans-serif;--wp--preset--font-family--ibarra-real-nova: 'Ibarra Real Nova', serif;--wp--preset--font-family--instrument-serif: 'Instrument Serif', serif;--wp--preset--font-family--inter: Inter, sans-serif;--wp--preset--font-family--josefin-sans: 'Josefin Sans', sans-serif;--wp--preset--font-family--jost: Jost, sans-serif;--wp--preset--font-family--libre-baskerville: 'Libre Baskerville', serif;--wp--preset--font-family--libre-franklin: 'Libre Franklin', sans-serif;--wp--preset--font-family--literata: Literata, serif;--wp--preset--font-family--lora: Lora, serif;--wp--preset--font-family--merriweather: Merriweather, serif;--wp--preset--font-family--montserrat: Montserrat, sans-serif;--wp--preset--font-family--newsreader: Newsreader, serif;--wp--preset--font-family--noto-sans-mono: 'Noto Sans Mono', sans-serif;--wp--preset--font-family--nunito: Nunito, sans-serif;--wp--preset--font-family--open-sans: 'Open Sans', sans-serif;--wp--preset--font-family--overpass: Overpass, sans-serif;--wp--preset--font-family--pt-serif: 'PT Serif', serif;--wp--preset--font-family--petrona: Petrona, serif;--wp--preset--font-family--piazzolla: Piazzolla, serif;--wp--preset--font-family--playfair-display: 'Playfair Display', serif;--wp--preset--font-family--plus-jakarta-sans: 'Plus Jakarta Sans', sans-serif;--wp--preset--font-family--poppins: Poppins, sans-serif;--wp--preset--font-family--raleway: Raleway, sans-serif;--wp--preset--font-family--roboto: Roboto, sans-serif;--wp--preset--font-family--roboto-slab: 'Roboto Slab', serif;--wp--preset--font-family--rubik: Rubik, sans-serif;--wp--preset--font-family--rufina: Rufina, serif;--wp--preset--font-family--sora: Sora, sans-serif;--wp--preset--font-family--source-sans-3: 'Source Sans 3', sans-serif;--wp--preset--font-family--source-serif-4: 'Source Serif 4', serif;--wp--preset--font-family--space-mono: 'Space Mono', monospace;--wp--preset--font-family--syne: Syne, sans-serif;--wp--preset--font-family--texturina: Texturina, serif;--wp--preset--font-family--urbanist: Urbanist, sans-serif;--wp--preset--font-family--work-sans: 'Work Sans', sans-serif;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}.has-albert-sans-font-family{font-family: var(--wp--preset--font-family--albert-sans) !important;}.has-alegreya-font-family{font-family: var(--wp--preset--font-family--alegreya) !important;}.has-arvo-font-family{font-family: var(--wp--preset--font-family--arvo) !important;}.has-bodoni-moda-font-family{font-family: var(--wp--preset--font-family--bodoni-moda) !important;}.has-bricolage-grotesque-font-family{font-family: var(--wp--preset--font-family--bricolage-grotesque) !important;}.has-cabin-font-family{font-family: var(--wp--preset--font-family--cabin) !important;}.has-chivo-font-family{font-family: var(--wp--preset--font-family--chivo) !important;}.has-commissioner-font-family{font-family: var(--wp--preset--font-family--commissioner) !important;}.has-cormorant-font-family{font-family: var(--wp--preset--font-family--cormorant) !important;}.has-courier-prime-font-family{font-family: var(--wp--preset--font-family--courier-prime) !important;}.has-crimson-pro-font-family{font-family: var(--wp--preset--font-family--crimson-pro) !important;}.has-dm-mono-font-family{font-family: var(--wp--preset--font-family--dm-mono) !important;}.has-dm-sans-font-family{font-family: var(--wp--preset--font-family--dm-sans) !important;}.has-dm-serif-display-font-family{font-family: var(--wp--preset--font-family--dm-serif-display) !important;}.has-domine-font-family{font-family: var(--wp--preset--font-family--domine) !important;}.has-eb-garamond-font-family{font-family: var(--wp--preset--font-family--eb-garamond) !important;}.has-epilogue-font-family{font-family: var(--wp--preset--font-family--epilogue) !important;}.has-fahkwang-font-family{font-family: var(--wp--preset--font-family--fahkwang) !important;}.has-figtree-font-family{font-family: var(--wp--preset--font-family--figtree) !important;}.has-fira-sans-font-family{font-family: var(--wp--preset--font-family--fira-sans) !important;}.has-fjalla-one-font-family{font-family: var(--wp--preset--font-family--fjalla-one) !important;}.has-fraunces-font-family{font-family: var(--wp--preset--font-family--fraunces) !important;}.has-gabarito-font-family{font-family: var(--wp--preset--font-family--gabarito) !important;}.has-ibm-plex-mono-font-family{font-family: var(--wp--preset--font-family--ibm-plex-mono) !important;}.has-ibm-plex-sans-font-family{font-family: var(--wp--preset--font-family--ibm-plex-sans) !important;}.has-ibarra-real-nova-font-family{font-family: var(--wp--preset--font-family--ibarra-real-nova) !important;}.has-instrument-serif-font-family{font-family: var(--wp--preset--font-family--instrument-serif) !important;}.has-inter-font-family{font-family: var(--wp--preset--font-family--inter) !important;}.has-josefin-sans-font-family{font-family: var(--wp--preset--font-family--josefin-sans) !important;}.has-jost-font-family{font-family: var(--wp--preset--font-family--jost) !important;}.has-libre-baskerville-font-family{font-family: var(--wp--preset--font-family--libre-baskerville) !important;}.has-libre-franklin-font-family{font-family: var(--wp--preset--font-family--libre-franklin) !important;}.has-literata-font-family{font-family: var(--wp--preset--font-family--literata) !important;}.has-lora-font-family{font-family: var(--wp--preset--font-family--lora) !important;}.has-merriweather-font-family{font-family: var(--wp--preset--font-family--merriweather) !important;}.has-montserrat-font-family{font-family: var(--wp--preset--font-family--montserrat) !important;}.has-newsreader-font-family{font-family: var(--wp--preset--font-family--newsreader) !important;}.has-noto-sans-mono-font-family{font-family: var(--wp--preset--font-family--noto-sans-mono) !important;}.has-nunito-font-family{font-family: var(--wp--preset--font-family--nunito) !important;}.has-open-sans-font-family{font-family: var(--wp--preset--font-family--open-sans) !important;}.has-overpass-font-family{font-family: var(--wp--preset--font-family--overpass) !important;}.has-pt-serif-font-family{font-family: var(--wp--preset--font-family--pt-serif) !important;}.has-petrona-font-family{font-family: var(--wp--preset--font-family--petrona) !important;}.has-piazzolla-font-family{font-family: var(--wp--preset--font-family--piazzolla) !important;}.has-playfair-display-font-family{font-family: var(--wp--preset--font-family--playfair-display) !important;}.has-plus-jakarta-sans-font-family{font-family: var(--wp--preset--font-family--plus-jakarta-sans) !important;}.has-poppins-font-family{font-family: var(--wp--preset--font-family--poppins) !important;}.has-raleway-font-family{font-family: var(--wp--preset--font-family--raleway) !important;}.has-roboto-font-family{font-family: var(--wp--preset--font-family--roboto) !important;}.has-roboto-slab-font-family{font-family: var(--wp--preset--font-family--roboto-slab) !important;}.has-rubik-font-family{font-family: var(--wp--preset--font-family--rubik) !important;}.has-rufina-font-family{font-family: var(--wp--preset--font-family--rufina) !important;}.has-sora-font-family{font-family: var(--wp--preset--font-family--sora) !important;}.has-source-sans-3-font-family{font-family: var(--wp--preset--font-family--source-sans-3) !important;}.has-source-serif-4-font-family{font-family: var(--wp--preset--font-family--source-serif-4) !important;}.has-space-mono-font-family{font-family: var(--wp--preset--font-family--space-mono) !important;}.has-syne-font-family{font-family: var(--wp--preset--font-family--syne) !important;}.has-texturina-font-family{font-family: var(--wp--preset--font-family--texturina) !important;}.has-urbanist-font-family{font-family: var(--wp--preset--font-family--urbanist) !important;}.has-work-sans-font-family{font-family: var(--wp--preset--font-family--work-sans) !important;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
</style>
<link crossorigin='anonymous' rel='stylesheet' id='all-css-10-1' href='https://s2.wp.com/_static/??-eJyFT9EKwjAM/CFrGDKZD+K3bF1Wu6VNWVLG/t4OVBRhvoTccXfcwZKM5agYFfSOAQVS7kCXQqyFhY7YTnK0Igf4pxVdCc2SLIcfQ8gmUXY+CsxYQl15HRTVB9wzOWRTqrTqOX4BM1Dr5z3riJpaOz0xBObt9JnKAB8HH72iETsz0WvXe9OWewvX6tzU1alqLvX4ACohc3k=&cssminify=yes' type='text/css' media='all' />
<style id='jetpack-global-styles-frontend-style-inline-css'>
:root { --font-headings: unset; --font-base: unset; --font-headings-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif; --font-base-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;}
</style>
<link crossorigin='anonymous' rel='stylesheet' id='all-css-12-1' href='https://s2.wp.com/wp-content/themes/h4/global.css?m=1420737423i&cssminify=yes' type='text/css' media='all' />
<script type="text/javascript" id="media-video-jwt-bridge-js-extra">
/* <![CDATA[ */
var videopressAjax = {"ajaxUrl":"https:\/\/daveti.wordpress.com\/wp-admin\/admin-ajax.php","bridgeUrl":"\/wp-content\/mu-plugins\/jetpack-plugin\/moon\/jetpack_vendor\/automattic\/jetpack-videopress\/build\/lib\/token-bridge.js","post_id":"2880"};
/* ]]> */
</script>
<script type="text/javascript" id="wpcom-actionbar-placeholder-js-extra">
/* <![CDATA[ */
var actionbardata = {"siteID":"14794791","postID":"0","siteURL":"https:\/\/davejingtian.org","xhrURL":"https:\/\/davejingtian.org\/wp-admin\/admin-ajax.php","nonce":"4ed482c744","isLoggedIn":"","statusMessage":"","subsEmailDefault":"instantly","proxyScriptUrl":"https:\/\/s0.wp.com\/wp-content\/js\/wpcom-proxy-request.js?ver=20211021","i18n":{"followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/read\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar"}};
/* ]]> */
</script>
<script type="text/javascript" id="jetpack-mu-wpcom-settings-js-before">
/* <![CDATA[ */
var JETPACK_MU_WPCOM_SETTINGS = {"assetsUrl":"https:\/\/s1.wp.com\/wp-content\/mu-plugins\/jetpack-mu-wpcom-plugin\/moon\/vendor\/automattic\/jetpack-mu-wpcom\/src\/build\/"};
/* ]]> */
</script>
<script crossorigin='anonymous' type='text/javascript'  src='https://s0.wp.com/_static/??-eJxdjcEOwiAQRH9I3GhS24vxUwyUtVkKuwSWqn8vBzXR47x5mYF7NrOwIiuECkkcRTStYrFLZ4b4JvtQd/DrlagmF3k8/7vUTI5tIa4QULOd13fu08Ifdt2QvRSwTSVZVZq/9kYeJResFVyj6CGSA5UV2bhCfsH+eEnnw3gcpmk6jUN4AUqdSJE='></script>
<script type="text/javascript" id="rlt-proxy-js-after">
/* <![CDATA[ */
	rltInitialize( {"token":null,"iframeOrigins":["https:\/\/widgets.wp.com"]} );
/* ]]> */
</script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://daveti.wordpress.com/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress.com" />
<link rel='shortlink' href='https://wp.me/104NF' />

<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="website" />
<meta property="og:title" content="davejingtian.org" />
<meta property="og:description" content="Still got dreams; still got hopes..." />
<meta property="og:url" content="https://davejingtian.org/" />
<meta property="og:site_name" content="davejingtian.org" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=200&#038;ts=1726197245" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:image:alt" content="" />
<meta property="og:locale" content="en_US" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=32" sizes="16x16" />
<link rel="apple-touch-icon" href="https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=114" />
<link rel='openid.server' href='https://davejingtian.org/?openidserver=1' />
<link rel='openid.delegate' href='https://davejingtian.org/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://davejingtian.org/osd.xml" title="davejingtian.org" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
<meta name="theme-color" content="#000000" />
<meta name="application-name" content="davejingtian.org" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Still got dreams; still got hopes..." /><meta name="description" content="Still got dreams; still got hopes..." />
<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #000000; }
</style>
	<style type="text/css" id="custom-colors-css">#access ul li.current_page_item > a, #access ul li.current_page_parent > a, #access ul li.current-menu-ancestor > a, #access ul li.current-menu-item > a, #access ul li.current-menu-parent > a { color: #666666;}
#access li:hover > a, #access ul ul *:hover > a { fg2: #ffffff;}
#access a { color: #595959;}
.entry-meta a:link, .entry-utility a:link { color: #888888;}
body { background-color: #000000;}
#access, #access ul ul a { background-color: #c2fecd;}
#access li:hover > a, #access ul ul *:hover > a { background-color: #0;}
a:link, a:visited, .jetpack_widget_social_icons a:visited, .widget_wpcom_social_media_icons_widget a:visited { color: #CF3420;}
.home .sticky { background-color: #F7A398;}
.home .sticky { background-color: rgba( 247, 163, 152, 0.05 );}
.home .sticky .page-link a { background-color: #F7A398;}
.home .sticky .page-link a { background-color: rgba( 247, 163, 152, 0.2 );}
a:hover, a:focus, a:active { color: #000000;}
.entry-title a:active, .entry-title a:hover { color: #000000;}
.page-title a:active, .page-title a:hover { color: #000000;}
.entry-meta a:hover, .entry-utility a:hover { color: #000000;}
.navigation a:active, .navigation a:hover { color: #000000;}
.comment-meta a:active, .comment-meta a:hover { color: #000000;}
.reply a:hover, a.comment-edit-link:hover { color: #000000;}
.page-link a:active, .page-link a:hover { color: #000000;}
</style>
			<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s0.wp.com/?custom-css=1&#038;csblog=104NF&#038;cscache=6&#038;csrev=13" />
			</head>

<body class="home blog custom-background customizer-styles-applied single-author jetpack-reblog-enabled custom-colors">
<div id="wrapper" class="hfeed">
	<div id="header">
		<div id="masthead">
			<div id="branding" role="banner">
								<h1 id="site-title">
					<span>
						<a href="https://davejingtian.org/" title="davejingtian.org" rel="home">davejingtian.org</a>
					</span>
				</h1>
				<div id="site-description">Still got dreams; still got hopes&#8230;</div>

									<a class="home-link" href="https://davejingtian.org/" title="davejingtian.org" rel="home">
						<img src="https://davejingtian.org/wp-content/uploads/2013/08/daveti_tele2.jpg" width="940" height="198" alt="" />
					</a>
								</div><!-- #branding -->

			<div id="access" role="navigation">
								<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
				<div class="menu-header"><ul id="menu-menu-1" class="menu"><li id="menu-item-580" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-580"><a href="https://davejingtian.org/" aria-current="page">Blog</a></li>
<li id="menu-item-575" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-575"><a href="https://davejingtian.org/about/">About</a></li>
<li id="menu-item-576" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-576"><a href="https://davejingtian.org/publications/">Publications</a></li>
<li id="menu-item-2558" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2558"><a href="https://davejingtian.org/students/">Students</a></li>
<li id="menu-item-2559" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2559"><a href="https://davejingtian.org/teaching/">Teaching</a></li>
<li id="menu-item-578" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-578"><a href="https://davejingtian.org/python/">Python</a></li>
<li id="menu-item-2621" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2621"><a href="https://davejingtian.org/quotes/">Quotes</a></li>
<li id="menu-item-2781" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2781"><a href="https://davejingtian.org/sponsors/">Sponsors</a></li>
</ul></div>			</div><!-- #access -->
		</div><!-- #masthead -->
	</div><!-- #header -->

	<div id="main">

		<div id="container">
			<div id="content" role="main">

			
	<div id="nav-above" class="navigation">
		<div class="nav-previous"><a href="https://davejingtian.org/page/2/" ><span class="meta-nav">&larr;</span> Older posts</a></div>
		<div class="nav-next"></div>
	</div><!-- #nav-above -->



	
			<div id="post-2880" class="post-2880 post type-post status-publish format-standard hentry category-os category-programming tag-borlan tag-diskutil tag-dosbox tag-macos tag-tc tag-turboc">
			<h2 class="entry-title"><a href="https://davejingtian.org/2023/04/09/borland-turbo-c-3-0-on-macos/" rel="bookmark">Borland Turbo C++ 3.0 on&nbsp;MacOS</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2023/04/09/borland-turbo-c-3-0-on-macos/" title="1:36 am" rel="bookmark"><span class="entry-date">April 9, 2023</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				<p><span style="color: #808080"><em>The recent post from Hackaday on Borland Turbo C/C++ [1] managed to trigger my nostalgia, when I needed to pass some national programming testing in C as an undergrad in China over 20 years ago, and it was Borland Turbo C 1.0. Anyway, this post is about running Borland Turbo C++ 3.0 on my MacOS. Nothing complicated albeit some caveats.</em></span></p>
<p><strong>1. Get DOSBox</strong></p>
<p>This is a no-brainer. Go get it at [2].</p>
<p><strong>2. Get Borland Turbo C++ 3.0</strong></p>
<p>I decided to go with Turbo C++ 3.0 because of the syntax highlight, especially the green color:) Fetch your beloved TC at [3]. I used the 3.5&#8221; version.</p>
<p><strong>3. Install and Run TC</strong></p>
<p>After unzip the TC3, there should be five disk image files (Disk01-05.img). These are floppy disk image files. One caveat here is that we need to extract the original installation files from these five images. Belive or not, MacOS gave me some hard time on this, since I&#8217;ve never figured out how its mount works (compared to the Linux one). Nevertheless, &#8220;Disk Utility&#8221; came to save, which can easily mount these floppy disk images under /Volumes.</p>
<p><img data-attachment-id="2883" data-permalink="https://davejingtian.org/2023/04/09/borland-turbo-c-3-0-on-macos/tc-du/" data-orig-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-du.png" data-orig-size="1086,426" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="tc-du" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-du.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-du.png?w=640" tabindex="0" role="button" class="alignnone size-full wp-image-2883" src="https://davejingtian.org/wp-content/uploads/2023/04/tc-du.png?w=640" alt="tc-du"   srcset="https://davejingtian.org/wp-content/uploads/2023/04/tc-du.png 1086w, https://davejingtian.org/wp-content/uploads/2023/04/tc-du.png?w=150&amp;h=59 150w, https://davejingtian.org/wp-content/uploads/2023/04/tc-du.png?w=300&amp;h=118 300w, https://davejingtian.org/wp-content/uploads/2023/04/tc-du.png?w=768&amp;h=301 768w, https://davejingtian.org/wp-content/uploads/2023/04/tc-du.png?w=1024&amp;h=402 1024w" sizes="(max-width: 1086px) 100vw, 1086px" /></p>
<p>Create a local directory, e.g., &#8220;/Users/daveti/install&#8221;, and extract all the files from these five images into the install directory.</p>
<p><img data-attachment-id="2884" data-permalink="https://davejingtian.org/2023/04/09/borland-turbo-c-3-0-on-macos/tc-ext-all/" data-orig-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-ext-all.png" data-orig-size="476,655" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="tc-ext-all" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-ext-all.png?w=218" data-large-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-ext-all.png?w=476" tabindex="0" role="button" class="alignnone size-full wp-image-2884" src="https://davejingtian.org/wp-content/uploads/2023/04/tc-ext-all.png?w=640" alt="tc-ext-all"   srcset="https://davejingtian.org/wp-content/uploads/2023/04/tc-ext-all.png 476w, https://davejingtian.org/wp-content/uploads/2023/04/tc-ext-all.png?w=109&amp;h=150 109w, https://davejingtian.org/wp-content/uploads/2023/04/tc-ext-all.png?w=218&amp;h=300 218w" sizes="(max-width: 476px) 100vw, 476px" /></p>
<p>Create a target directory, e.g., &#8220;/Users/daveti/dos/tc&#8221;, where TC will be installed. Start Dosbox:</p>
<p><span style="color: #3366ff">mount c /Users/daveti/dos</span><br />
<span style="color: #3366ff">mount a /Users/daveti/install</span></p>
<p>Then change to A: and run &#8220;INSTALL.EXE&#8221; to install TC under &#8220;C:\TC&#8221; by default.</p>
<p><img data-attachment-id="2885" data-permalink="https://davejingtian.org/2023/04/09/borland-turbo-c-3-0-on-macos/tc-ins/" data-orig-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-ins.png" data-orig-size="641,431" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="tc-ins" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-ins.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-ins.png?w=640" tabindex="0" role="button" class="alignnone size-full wp-image-2885" src="https://davejingtian.org/wp-content/uploads/2023/04/tc-ins.png?w=640" alt="tc-ins"   srcset="https://davejingtian.org/wp-content/uploads/2023/04/tc-ins.png 641w, https://davejingtian.org/wp-content/uploads/2023/04/tc-ins.png?w=150&amp;h=101 150w, https://davejingtian.org/wp-content/uploads/2023/04/tc-ins.png?w=300&amp;h=202 300w" sizes="(max-width: 641px) 100vw, 641px" /></p>
<p><strong>4. Run TC</strong></p>
<p>Since I have configured my DOSBox yet, I need to mount C: before I could run TC. Once mounted, change to C:\TC\BIN, and run &#8220;TC.EXE&#8221;.</p>
<p><img data-attachment-id="2887" data-permalink="https://davejingtian.org/2023/04/09/borland-turbo-c-3-0-on-macos/tc-run/" data-orig-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-run.png" data-orig-size="639,426" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="tc-run" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-run.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2023/04/tc-run.png?w=639" tabindex="0" role="button" loading="lazy" class="alignnone size-full wp-image-2887" src="https://davejingtian.org/wp-content/uploads/2023/04/tc-run.png?w=640" alt="tc-run"   srcset="https://davejingtian.org/wp-content/uploads/2023/04/tc-run.png 639w, https://davejingtian.org/wp-content/uploads/2023/04/tc-run.png?w=150&amp;h=100 150w, https://davejingtian.org/wp-content/uploads/2023/04/tc-run.png?w=300&amp;h=200 300w" sizes="(max-width: 639px) 100vw, 639px" /></p>
<p><strong>References:</strong></p>
<p>[1] <a href="https://hackaday.com/2023/04/08/revisiting-borland-turbo-c-and-c/">https://hackaday.com/2023/04/08/revisiting-borland-turbo-c-and-c/</a><br />
[2] <a href="https://www.dosbox.com/">https://www.dosbox.com/</a><br />
[3] <a href="https://winworldpc.com/product/turbo-c/3x">https://winworldpc.com/product/turbo-c/3x</a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/tag/os/" rel="category tag">OS</a>, <a href="https://davejingtian.org/category/programming/" rel="category tag">Programming</a>					</span>
					<span class="meta-sep">|</span>
				
								<span class="tag-links">
					<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="https://davejingtian.org/tag/borlan/" rel="tag">Borlan</a>, <a href="https://davejingtian.org/tag/diskutil/" rel="tag">DiskUtil</a>, <a href="https://davejingtian.org/tag/dosbox/" rel="tag">DOSBOX</a>, <a href="https://davejingtian.org/tag/macos/" rel="tag">MacOS</a>, <a href="https://davejingtian.org/tag/tc/" rel="tag">TC</a>, <a href="https://davejingtian.org/tag/turboc/" rel="tag">TurboC</a>				</span>
				<span class="meta-sep">|</span>
				
				<span class="comments-link"><a href="https://davejingtian.org/2023/04/09/borland-turbo-c-3-0-on-macos/#comments">1 Comment</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2880 -->

		
	

	
			<div id="post-2854" class="post-2854 post type-post status-publish format-standard hentry category-conference tag-cps tag-iot tag-safethings">
			<h2 class="entry-title"><a href="https://davejingtian.org/2022/12/29/safethings-2023/" rel="bookmark">SafeThings 2023</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2022/12/29/safethings-2023/" title="10:50 pm" rel="bookmark"><span class="entry-date">December 29, 2022</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				
<h1 class="wp-block-heading"><a href="https://safe-things-2023.github.io/">SafeThings 2023</a></h1>



<h1 class="wp-block-heading">IEEE/ACM Workshop on the Internet of Safe Things</h1>



<h2 class="wp-block-heading">Co-located with&nbsp;<a href="https://cps-iot-week2023.cs.utsa.edu/" target="_blank" rel="noreferrer noopener">CPS-IoT Week 2023 »</a></h2>



<h2 class="wp-block-heading">San Antonio, Texas USA, May 9, 2023</h2>



<p>The Internet of Things has become increasingly popular and innovative. With the rise of connected devices, we have an opportunity to significantly improve the safety of legacy systems. For instance, insights from data across systems can be exploited to reduce accidents, improve air quality and support disaster events. IoT-based cyber-physical systems (CPS) also bring new risks that arise due to the unexpected interaction between systems and the larger number of attack vectors on these systems. These safety risks can arise in the context of use of medical devices, smart home appliance control, autonomous vehicle and intelligent transportation designs, or conflicts in policy execution at a societal scale.<br><br>The Workshop on the Internet of Safe Things seeks to bring together researchers to create solutions for the development of safe cyber-physical systems. As safety is inherently linked with the security and privacy of a system, we also seek contributions in these areas that address safety concerns. We seek to develop a community that systematically dissects the vulnerabilities and risks exposed by these emerging CPSs, and creates tools, algorithms, frameworks, and systems that help in the development of safe systems.<br><br>We seek contributions across domains &#8211; autonomous vehicles, smart homes, medical devices, smart grid, intelligent transportation; and across disciplines &#8211; systems, control, human-computer interaction, privacy, security, reliability, machine learning, and verification.</p>



<h1 class="wp-block-heading">Important Dates</h1>



<figure class="wp-block-table"><table><tbody><tr><td>Paper Submission Deadline</td><td><s>January 28th</s>&nbsp;February 4th, 2023 (AoE, UTC-12)</td></tr><tr><td>Acceptance Notification</td><td><s>February 21th</s>&nbsp;February 28th, 2023</td></tr><tr><td>Camera-ready Submission Deadline</td><td><s>March 5th</s>&nbsp;March 12th, 2023 (AoE, UTC-12)</td></tr><tr><td>Workshop</td><td>May 26th, 2023</td></tr></tbody></table></figure>



<h1 class="wp-block-heading">Call for Papers</h1>



<p>As the traditionally segregated systems are brought online for next-generation connected applications, we have an opportunity to significantly improve the safety of legacy systems. For instance, insights from data across systems can be exploited to reduce accidents, improve air quality and support disaster events. Cyber-physical systems (CPS) also bring new risks that arise due to the unexpected interaction between systems and the environment. These safety risks arise because of information that distracts users while driving, software errors in medical devices, corner cases in data-driven control, compromised sensors in drones or conflicts in societal policies. Accordingly, the Workshop on the Internet of Safe Things (or SafeThings, for brevity) seeks to bring researchers and practitioners that are actively exploring system design, modeling, verification, authentication approaches to provide safety guarantees in the Internet of Things (IoT). The workshop welcomes contributions that integrate hardware and software systems provided by disparate vendors, particularly those that have humans in the loop. As safety is inherently linked with security and privacy, we also seek contributions in these areas that address safety concerns. With the SafeThings workshop, we seek to develop a community that systematically dissects the vulnerabilities and risks exposed by these emerging CPSes, and create tools, algorithms, frameworks, and systems that help in the development of safe systems.<br><br>The scope of SafeThings includes safety topics as it relates to an individual&#8217;s health (physical, mental), society (air pollution, toxicity, disaster events), or the environment (species preservation, global warming, oil spills). The workshop considers safety from a human perspective, and thus, does not include topics such as thread safety or memory safety in its scope.<br><br><strong>Topics of interest include, but are not limited to, the following categories:</strong></p>



<ul class="wp-block-list">
<li>Verification of safety in IoT/CPS platforms</li>



<li>Authentication in IoT/CPS settings</li>



<li>Adversarial machine learning and testing of IoT/CPS systems</li>



<li>Secure perception, localization, and planning in autonomous systems (e.g., autonomous vehicles and drones)</li>



<li>Sensors/analog and network protocol security in IoT/CPS systems</li>



<li>Compliance with legal, health, and environmental policies</li>



<li>Conflict resolution between IoT applications</li>



<li>Secure connectivity and updates in IoT/CPS</li>



<li>Secure integration of hardware and software systems</li>



<li>Privacy challenges in IoT/CPS settings</li>



<li>Privacy preserving data sharing and analysis</li>



<li>Resiliency against attacks and faults</li>



<li>Safety in human-in-the-loop systems</li>



<li>Support for IoT/CPS development &#8211; debugging tools, emulators, testbeds</li>



<li>Usable security and privacy for IoT/CPS platforms</li>



<li>Smart homes, smart buildings and smart city security and privacy issues</li>
</ul>



<p>In addition, application domains of interest include, but are not limited to autonomous vehicles and transportation infrastructure; medical CPS and public health; smart buildings, smart grid and smart cities.<br><br>The PC will select a&nbsp;<strong>best paper award</strong>&nbsp;for work that distinguishes itself in moving the security and privacy of IoT/CPS forward through novel attacks or defenses.<br></p>



<h2 class="wp-block-heading">Call for Demos</h2>



<p>In addition to presentation of accepted papers, SafeThings will include a demo session that is designed to allow researchers to share demonstrations of their systems that include CPS/IoT security and safety as a major design goal. Demos of attacks are also welcome.<br></p>



<hr class="wp-block-separator has-alpha-channel-opacity" />



<h1 class="wp-block-heading">Submission Instructions</h1>



<p>Submitted papers must be in English, unpublished, and must not be currently under review for any other publication. Manuscripts should be no more than 6 pages, including all figures, tables, and references in ACM two-column conference proceedings style (<a href="https://www.acm.org/publications/proceedings-template/" rel="nofollow">https://www.acm.org/publications/proceedings-template/</a>), using US Letter (8.5-inch x 11-inch) paper size. Demos must be at most 1 single-spaced, double column 8.5” x 11” page, and have &#8220;Demo:&#8221; in their titles. All figures must fit within these limits. Papers that do not meet the size and formatting requirements will not be reviewed. All papers must be in Adobe Portable Document Format (PDF) and submitted through the web submission form via the submission link below. The review process is double-blind.<br><br>Full Papers: 6 pages including all figures, tables, and references.<br>Demos: 1 page (with &#8220;Demo:&#8221; in the title).<br><br><a href="https://safethings2023.hotcrp.com/" target="_blank" rel="noreferrer noopener">Submission Page »</a></p>



<hr class="wp-block-separator has-alpha-channel-opacity" />



<h1 class="wp-block-heading">ACM&#8217;s Publications Policies</h1>



<p>By submitting your article to an ACM Publication, you are hereby acknowledging that you and your co-authors are subject to all ACM Publications Policies, including ACM&#8217;s new Publications Policy on Research Involving Human Participants and Subjects. Alleged violations of this policy or any ACM Publications Policy will be investigated by ACM and may result in a full retraction of your paper, in addition to other potential penalties, as per ACM Publications Policy.<br><br>Please ensure that you and your co-authors obtain an ORCID ID, so you can complete the publishing process for your accepted paper. ACM has been involved in ORCID from the start and we have recently made a commitment to collect ORCID IDs from all of our published authors. The collection process has started and will roll out as a requirement throughout 2022. We are committed to improve author discoverability, ensure proper attribution and contribute to ongoing community efforts around name normalization; your ORCID ID will help in these efforts.</p>



<hr class="wp-block-separator has-alpha-channel-opacity" />



<h1 class="wp-block-heading">Organization</h1>



<h3 class="wp-block-heading">General Chairs</h3>



<p><a href="https://ytuan.info/">Yuan Tian</a>&nbsp;(University of Califonia, Los Angeles, USA)</p>



<p><a href="https://davejigntian.org/">Dave (Jing) Tian</a>&nbsp;(Purdue University, USA)</p>



<h3 class="wp-block-heading">Program Committee Chairs</h3>



<p><a href="https://sites.google.com/site/samanzonouz4n6/saman-zonouz">Saman Zonouz</a>&nbsp;(Georgia Institute of Technology, USA)</p>



<p><a href="https://beerkay.github.io/">Z. Berkay Celik</a>&nbsp;(Purdue University, USA)</p>



<h3 class="wp-block-heading">Web Chair</h3>



<p><a href="https://www.cs.virginia.edu/~fs5ve/">Faysal Hossain Shezan</a>&nbsp;(University of Virginia, USA)</p>



<h3 class="wp-block-heading">Publicity Chair</h3>



<p><a href="https://habiba-farrukh.github.io/">Habiba Farrukh</a>&nbsp;(Purdue University, USA)</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/category/conference/" rel="category tag">Conference</a>					</span>
					<span class="meta-sep">|</span>
				
								<span class="tag-links">
					<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="https://davejingtian.org/tag/cps/" rel="tag">CPS</a>, <a href="https://davejingtian.org/tag/iot/" rel="tag">IoT</a>, <a href="https://davejingtian.org/tag/safethings/" rel="tag">SafeThings</a>				</span>
				<span class="meta-sep">|</span>
				
				<span class="comments-link"><a href="https://davejingtian.org/2022/12/29/safethings-2023/#respond">Leave a comment</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2854 -->

		
	

	
			<div id="post-2770" class="post-2770 post type-post status-publish format-standard hentry category-conference tag-cfp tag-ieee tag-safethings">
			<h2 class="entry-title"><a href="https://davejingtian.org/2021/12/22/ieee-workshop-on-the-internet-of-safe-things-safethings-2022-cfp/" rel="bookmark">IEEE Workshop on the Internet of Safe&nbsp;Things</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2021/12/22/ieee-workshop-on-the-internet-of-safe-things-safethings-2022-cfp/" title="1:25 am" rel="bookmark"><span class="entry-date">December 22, 2021</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				
<p>Dear Colleagues,</p>



<p>Apologies if this reached you through multiple channels.</p>



<p>If you or anyone you know does research in Security and Privacy related to IoT, Mobile Devices and Platforms, Cyber-Physical Systems please consider submitting your early work or demos of existing, ongoing or published work at SafeThings &#8217;22.</p>



<p>SafeThings &#8217;22 (the IEEE Workshop on the Internet of Safe Things) will take place in conjunction with IEEE S&amp;P &#8217;22 (the IEEE Symposium on Security and Privacy 2022).</p>



<p>We solicit 6-page original papers on topics related to security and privacy at the edge of the network and 1-page demo proposals. Contributions can be across a variety of domains where interconnected systems affect the safety of the environment or their users &#8211; autonomous vehicles, smart homes, medical devices, smart grid, intelligent transportation; and across disciplines &#8211; systems, control, human-computer interaction, privacy, security, reliability, machine learning, and verification.</p>



<p>A more comprehensive list of topics can be found in the official call for papers: <a href="https://safe-things-2022.github.io/#cfp">https://safe-things-2022.github.io/#cfp</a></p>



<p><strong>Important Dates</strong><br>Paper/Demo Submission Deadline:<em> <span style="text-decoration:underline;">January 28th, 2022 (AoE, UTC-12)</span><br></em>Acceptance Notification:<em> <span style="text-decoration:underline;">February 21th, 2022</span><br></em>Camera-ready Submission Deadline:<em> <span style="text-decoration:underline;">March 5th, 2022 (AoE, UTC-12)</span><br></em>Workshop:<em> <span style="text-decoration:underline;">May 26th, 2022</span></em></p>



<p><strong>Best Paper Award</strong><br>The PC will select a best paper award for work that distinguishes itself in moving the security and privacy of IoT/CPS forward through novel attacks or defenses.</p>



<p><strong>Follow SafeThings 2022</strong><br>Follow us on Twitter for updates: <mark style="background-color:rgba(0,0,0,0);" class="has-inline-color has-blue-color">@safethings2022</mark></p>



<p>We look forward to your paper/demo submissions. Please help spread the word by forwarding this post to anyone who might be interested.</p>



<p>Kind Regards,<br>Soteris, Danny, Sandeep and Dave</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/category/conference/" rel="category tag">Conference</a>					</span>
					<span class="meta-sep">|</span>
				
								<span class="tag-links">
					<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="https://davejingtian.org/tag/cfp/" rel="tag">CFP</a>, <a href="https://davejingtian.org/tag/ieee/" rel="tag">IEEE</a>, <a href="https://davejingtian.org/tag/safethings/" rel="tag">SafeThings</a>				</span>
				<span class="meta-sep">|</span>
				
				<span class="comments-link"><a href="https://davejingtian.org/2021/12/22/ieee-workshop-on-the-internet-of-safe-things-safethings-2022-cfp/#respond">Leave a comment</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2770 -->

		
	

	
			<div id="post-2714" class="post-2714 post type-post status-publish format-standard hentry category-computer-security tag-dice tag-mctp tag-pcie tag-rot tag-rtm tag-rtr tag-tcg tag-usb-type-c tag-usb-type-c-authentication">
			<h2 class="entry-title"><a href="https://davejingtian.org/2021/05/15/some-thoughts-about-pci-express-device-security-enhacement/" rel="bookmark">Some Thoughts about PCI Express Device Security&nbsp;Enhacement</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2021/05/15/some-thoughts-about-pci-express-device-security-enhacement/" title="1:46 pm" rel="bookmark"><span class="entry-date">May 15, 2021</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				
<p><em><span style="color:#666;" class="has-inline-color">The USB Type-C Authentication specification provides a method to authenticate USB products, <a href="https://github.com/daveti/papers/blob/master/oakland18/usbsok.pdf">although with some flaws</a>. As you might wonder &#8212; what about other non-USB peripherals? How can we establish trust with them instead of &#8220;Trust-by-Default&#8221;? That&#8217;s how I ended up with Intel&#8217;s <a href="https://www.intel.com/content/www/us/en/io/pci-express/pcie-device-security-enhancements-spec.html">PCI Express Device Security Enhancement</a> (DRAFT, we will call it PCIe authentication specification, or the specification for short), aiming to bring authentication to PCIe peripherals. This post is my thoughts after reading the draft. Opinions are my own.</span></em></p>



<p><strong>The Good</strong></p>



<p>Even though the specification targets PCIe authentication, it considers several existing specifications, including USB Type-C Authentication, MCTP, and TCG DICE. As a result, the PCIe authentication specification builds upon the existing framework proposed by USB Type-C Authentication and supports MCTP too. Note that this is a sensible decision considering the incoming of USB4, which is built upon Thunderbolt, which is essentially PCIe.</p>



<p>Compared to USB Type-C Authentication, PCIe authentication specification explicitly considers the measurement of device firmware and distinguishes between PCIe device measurement and PCIe device authentication. For instance, the device measurement could be tampered with during supply chain attacks, while the usage of certificates does not tell anything about the firmware rather than the identity of devices. Consequently, PCIe device authentication combines both PCIe device measurement and certificates (Public Key Infrastructure, PKI) to offer the most robust security guarantee.</p>



<p>Moving forward, I like how the specification clearly defines root-of-trust (RoT), root-of-trust for measurement (RTM), and root-of-trust for reporting (RTR). The spec explicitly mentions that both RTM and RTR should be implemented in pure hardware or immutable firmware that could not be manipulated by mutable firmware &#8212; kicking standard device firmware out of the trusted computing base (TCB). This requirement actually addressed one of the issues we found in the USB Type-C Authentication &#8212; what if the device firmware does the measurement by itself.</p>



<p><strong>The Interesting</strong></p>



<p>Instead of using ECDSA NIST P-256 and SHA-256 recommended in USB Type-C Authentication, this spec recommends ECDSA NIST P-384 or RSA 3072 and SHA2/3-384 or SHA2/3-512, because &#8220;<span style="color:#0066cc;" class="has-inline-color">PCIe Device Authentication requires a minimum level of 192-bit security.</span>&#8221; Honestly, I do not understand a strong motivation since 128-bit security is secure IMO.</p>



<p>The spec also states explicitly, &#8220;<span style="color:#0066cc;" class="has-inline-color">Device manufacturers shall employ adequate protections against malicious insider attacks…</span>&#8221; I do not recall insider attacks as part of USB Type-C Authentication, and it might be easy to say but hard to achieve, as previous insider attacks happened, e.g., Snowden.</p>



<p>Besides device2host authentication, the spec also envisions host2device authentication and eventually mutual authentication, as we argued in our study for USB Type-C Authentication. The spec further recommends AES-128/256/384 for symmetric crypto (e.g., after DHKE). Maybe AES-128 should not be listed, given that the spec wanted minimum 192-bit security.</p>



<p><strong>The Bad</strong></p>



<p>The spec also gives three levels of device private key protection. In Level 1, &#8220;<span style="color:#0066cc;" class="has-inline-color">Device private key is stored in plaintext from inside the Device (e.g., fuze, internal NVRAM)… is accessible to mutable Device component, such as firmware.</span>&#8221; Even if we can argue that security is essentially an economic activity and there is a budget for every defense, what is the point of having this L1 protection? This is totally broken. In Level 2, &#8220;<span style="color:#0066cc;" class="has-inline-color">Device private key is encrypted using a key encryption key (KEK) which is known only to the immutable Device hardware… is accessible only to Device hardware or immutable firmware.</span>&#8221; IMO, L2 should be the default one, although I&#8217;m a bit skeptical about the secrecy of a secret key known only to hardware. Level 3 mandates the secret generation inside the hardware, e.g., using PUF or DICE.</p>



<p>Same as USB Type-C Authentication, the spec states that &#8220;<span style="color:#0066cc;" class="has-inline-color">Device private key should be protected against software side-channel attacks as well as against hardware differential power analysis attacks, including all relevant keys and cryptographic algorithms related to the usage of the Device private key.</span>&#8221; Presumably, the &#8220;software side-channel attacks&#8221; might refer to vulnerabilities within immutable firmware, and the only hardware side-channel highlighted here is power analysis. Here are my concerns: how often could we guarantee no side channels in our code? Why can&#8217;t we implement those crypto operations using pure hardware? What about EM side channels? Again, I do not think they are bad requirements at all. But I am hoping to see more justification behind all the statements.</p>



<p>USB Type-C Authentication introduces a number of slots supporting different certificate chains, essentially allowing the firmware to create its self-signed certificate chain that might be accepted by some vulnerable policy. The PCIe authentication specification inherits multiple slots and even introduces a new <span style="color:#00a329;" class="has-inline-color">SET_CERTIFICATE</span> command setting new certificate chains into non-zero slots. However, the spec requires that each new certificate chain signs the leaf DeviceCert in slot 0, which is immutable. The sole purpose of this owner-provisioned certificate chain allows the simplification of certificate chain validation, e.g., we don&#8217;t need to verify the slot-0 chain every time. Instead, one could provision a self-signed certificate chain and reduce the length of the chain for validation. Unfortunately, there is still a catch. First of all, it is not clear who has the write access to these non-zero slots. The spec uses the term &#8220;<span style="color:#0066cc;" class="has-inline-color">device owner,</span>&#8221; but my gut feeling is that anything might be able to write and overwrite those slots. Second, to accelerate the chain validation, a host machine must remember what slot is used for a given device. This means the provisioned slot number has to be added into the PCIe database maintained by OS. We will have two problems here. What if the target slot was overwritten, which would fail the chain validation for that slot, although slot 0 should still work. What if the slot number in the PCIe database was tampered, e.g., attackers injected their own chains and redirected the slot number in the database to the new slot. The chain validation would succeed while the PCIe device firmware could be compromised if the challenge-response protocol (containing the DEV_IDENTITY and FW_IDENTITY signed by the Device Private Key) was skipped. In the end, no matter what case we are talking about here, a slot-0 chain validation might still be needed. The potential issues of non-zero slot usage might outweigh the benefit of its speed acceleration.</p>



<p><strong>Summary</strong></p>



<p>As a draft from Intel tackling PCIe authentication, I think this specification balanced different pros and cons. It has indeed reached a balance between high-level concepts and implementation details. A step forward might be implementing it on a real-world PCIe device and see all the pitfalls and challenges. One of the biggest challenges during implementation might be the boundary between hardware and software, immutable and mutable, and security and performance.</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/category/computer-security/" rel="category tag">Security</a>					</span>
					<span class="meta-sep">|</span>
				
								<span class="tag-links">
					<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="https://davejingtian.org/tag/dice/" rel="tag">DICE</a>, <a href="https://davejingtian.org/tag/mctp/" rel="tag">MCTP</a>, <a href="https://davejingtian.org/tag/pcie/" rel="tag">PCIe</a>, <a href="https://davejingtian.org/tag/rot/" rel="tag">RoT</a>, <a href="https://davejingtian.org/tag/rtm/" rel="tag">RTM</a>, <a href="https://davejingtian.org/tag/rtr/" rel="tag">RTR</a>, <a href="https://davejingtian.org/tag/tcg/" rel="tag">TCG</a>, <a href="https://davejingtian.org/tag/usb-type-c/" rel="tag">USB Type-C</a>, <a href="https://davejingtian.org/tag/usb-type-c-authentication/" rel="tag">USB Type-C Authentication</a>				</span>
				<span class="meta-sep">|</span>
				
				<span class="comments-link"><a href="https://davejingtian.org/2021/05/15/some-thoughts-about-pci-express-device-security-enhacement/#respond">Leave a comment</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2714 -->

		
	

	
			<div id="post-2689" class="post-2689 post type-post status-publish format-standard hentry category-life-prose">
			<h2 class="entry-title"><a href="https://davejingtian.org/2021/03/24/some-notes-for-my-security-class-stduents/" rel="bookmark">Some notes for my security class&nbsp;stduents&#8230;</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2021/03/24/some-notes-for-my-security-class-stduents/" title="10:57 am" rel="bookmark"><span class="entry-date">March 24, 2021</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				
<p class="has-medium-gray-color has-text-color"><em>There were some crazy shooting and beating incidents happened in the past few weeks, and we have seen how our communities are trying to fight together to stop the hatred and racism. Unsurprisingly, my students asked me for my comments regarding these tragedies. Although it is not my personal interests to dive into these incidents, let alone commenting on them, and I do support the effort of our communities to stop these misbehaviors in the future, I would like to share some thoughts for my students from perspectives of being a teacher and student (used-to-be). Opinions are my own, and I will not participate in any further discussion. But feel free to leave a comment if you think needed.</em></p>



<p><strong>1. Be judgemental</strong></p>



<p>Like it nor not, any information we are getting anywhere could be biased, whether it&#8217;s online information or sth written down on paper. Unfortunately, people seem to forget this and treat &#8220;media&#8221; as &#8220;facts.&#8221; But are they? If you still remember the discussion we had earlier on &#8220;Trusted Computing Base&#8221; (TCB), ask yourself &#8211; are any media within your TCB? If they are trusted, why? I hope you will enjoy the process of reflective thinking and reasoning.</p>



<p>So what&#8217;s the point here? All news is fake, and we could not trust any news? Apparently not. Since &#8220;news&#8221; is still the major source of our real-time information, we probably will have to &#8220;trust&#8221; them to a certain extent. But this does not necessarily mean that &#8220;news&#8221; is trustworthy, and it could be far away from &#8220;facts.&#8221; IMO, the most important thing everyone should learn from a major like Computer Science should be the critical thinking like a scientist. Whenever you see a piece of &#8220;news,&#8221; ask yourself &#8211; what is the &#8220;fact&#8221; there and what are the subjective speculations that the makers try to deliver explicitly or implicitly.</p>



<p>Unfortunately, it is not an easy process to distinguish the &#8220;fact&#8221; from other parts of &#8220;news,&#8221; and it could be a life-long learning experience. But I think it is worth all the efforts and a nice habit to have if you hope to get close to the &#8220;truth&#8221; of the world. If &#8220;news&#8221; =&gt; &#8220;action&#8221;, a better causal chain might be &#8220;news&#8221; =&gt; &#8220;facts&#8221; =&gt; &#8220;action&#8221;. Be judgemental and think independently.</p>



<p><strong>2. Protect yourself</strong></p>



<p>No matter where we are, there will be some crazy people around. I have lived in Oregon and Florida, and I have been living in Indiana for almost 2 years now. A &#8220;fun&#8221; fact is I was harassed by different people in all these three states. My default policy against these harassements is always to go away as far as I could. Sounds like a &#8220;coward&#8221;? Maybe, but my &#8220;counter-argument&#8221; is that &#8220;I have more important things to do than arguing with these people,&#8221; such as &#8220;getting home safely,&#8221; &#8220;walking our dog every evening,&#8221; and &#8220;teaching my class on time.&#8221;</p>



<p>Remember &#8211; we cannot fix people. Haters are gonna hate no matter what. Life is too short to be wasted on &#8220;teaching a lesson&#8221; for people who cannot be taught with the risk of getting ourselves into injuries. Even better, try to avoid any potential risks if possible. I remember attending a conference in Baltimore, and our taxi driver warned us about places that we do not want to visit. Unfortunately, we did end up staying in a bar within a dangerous area. But we did call the taxi again and waited for the taxi to show up in front of the bar before we left for the hotel. Looking back, we probably should not have been to the bar in the first place.</p>



<p>In short, protect yourself. Avoid any potential risks if possible and run away as soon as possible without any confrontation because your safety triumphs over everything else.</p>



<p><strong>3. Be kind</strong></p>



<p>If you have not seen the <a href="https://www.youtube.com/watch?v=o_3u41KI57E&amp;ab_channel=UniversityofVermont-RubensteinSchool">commencement speech from Victor Wooten</a> (my favorite bass player in the world, although I do not play bass at all) in 2016, please check it out. His mother asked the young Victor what the world needs, e.g., another good musician? The answer is good people. What the world needs are good people!</p>



<p>Just be kind, to your family, friends, classmates, strangers, animals, and so on so forth. It is sometimes surprising to realize how simple it is to make us &#8220;human&#8221; and how often we forget how to behave like &#8220;human.&#8221; The other day, while I was walking our dog (his name is Fubao, in case you are interested), I found a dying raccoon in the forest (actually, Fubao found it first). I tried all the numbers I could find that might save the poor thing, but none of them worked due to off-hours. At last, I called 911. The lady on the other end told me that animals are out of their scope. When I told her that it is heartbreaking to see an animal&#8217;s suffering and there is nothing I could do to help, she said, &#8220;This is life, and you have to deal with it.&#8221;</p>



<p>There is nothing wrong with her response, and I know she meant well to comfort me. Meanwhile, I started to realize how we, as human beings, could &#8220;easily&#8221; get used to &#8220;things,&#8221; which might not be good or kind and we probably should not have &#8220;get used to&#8221; in the first place. If you apply &#8220;Be judgemental&#8221; to &#8220;routines&#8221; (some) people take for granted, you might be shocked to see how often we are not &#8220;kind&#8221; in the name of &#8220;safety,&#8221; &#8220;tradition,&#8221; &#8220;race,&#8221; &#8220;religion,&#8221; or whatever. Again, there is nothing wrong with being self-protective, and we need to protect ourselves for sure. At the same time, please do not forget your kindness and give a hand if you could.</p>



<p>If possible, please don&#8217;t get worn out &#8220;so easily&#8221; by the &#8220;society.&#8221; Stay kind.</p>



<p><strong>4. Learn something</strong></p>



<p>Regardless of skin colors or religions, as human beings, we are curious about the meaning of our lives and even our next lives. When I was a teenager, I used to write down &#8220;The meaning of my life&#8221; whenever I started to drift away from classes (sounds weirdo?) While I do appreciate the wisdom of tautology, e.g., the meaning of life is to explore the meaning of life, I hit my first &#8220;life crisis&#8221; during my undergrad when I was lost and had no idea why I even went to college or what I should do in these 4 years.</p>



<p>While I seemed to find my &#8220;direction&#8221; by playing heavy metals, there was always a &#8220;dark cloud&#8221; somewhere in my sky bothering me now and then. At the beginning of sophomore, a professor gave a talk, and I could not even recall how I managed to stay there or what the talk was about. He said, &#8220;If you have no idea what to do, stay in the library and learn something.&#8221; I remember everyone laughed (including myself) since my roommates were busy with &#8220;Counter Strike&#8221; and I was busy with &#8220;Metallica.&#8221; &#8220;What a douche!&#8221; I laughed.</p>



<p>What&#8217;s the rest of the story? I am now writing a blog post trying to convince my students to learn something when they are lost or have no idea what to do, and I know someone will laugh at me. What about &#8220;the meaning of my life&#8221;? I am still clueless. However, I now know that I will get it sooner or later as long as I keep moving forward. There is no dark cloud in my sky anymore.</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/category/life-prose/" rel="category tag">Life Prose</a>					</span>
					<span class="meta-sep">|</span>
				
				
				<span class="comments-link"><a href="https://davejingtian.org/2021/03/24/some-notes-for-my-security-class-stduents/#respond">Leave a comment</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2689 -->

		
	

	
			<div id="post-2596" class="post-2596 post type-post status-publish format-standard hentry category-ide_make category-linux-distro category-os tag-build tag-growpart tag-kernel tag-kvm tag-linux tag-lockdown tag-lsblk tag-parted tag-qemu tag-qemu-img tag-resize2fs tag-sign tag-ubuntu">
			<h2 class="entry-title"><a href="https://davejingtian.org/2019/11/07/ubuntu-kernel-build-again/" rel="bookmark">Ubuntu Kernel Build&nbsp;Again</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2019/11/07/ubuntu-kernel-build-again/" title="2:17 pm" rel="bookmark"><span class="entry-date">November 7, 2019</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				<p><span style="color:#808080;"><em><strong>I wrote two blog posts about Linux kernel build on Ubuntu [1,2]. There is also an official wiki page talking about the same thing [3]. Still, things are broken when I try to create a homework assignment for my class. This post is about how to correctly, easily and quickly build Linux kernel on Ubuntu 16.04 and 18.04. This whole process is used and verified by myself. Happy hacking.</strong></em></span></p>
<p><strong>1. Install building dependencies</strong></p>
<pre>sudo apt-get build-dep linux linux-image-$(uname -r)</pre>
<pre>sudo apt-get install libncurses-dev flex bison openssl libssl-dev dkms libelf-dev libudev-dev libpci-dev libiberty-dev autoconf</pre>
<p><strong>2. Fetch the Linux kernel source</strong></p>
<p>Make sure <span style="color:#3366ff;"><em>/etc/apt/sources.list</em></span> contains at least these 2 source entries (e.g., uncommenting). Note that the CODENAME is &#8220;xenial&#8221; for 16.04 and &#8220;bionic&#8221; for 18.04. Once the source entries are there, update the list file and fetch the kernel source.</p>
<pre>deb-src http://us.archive.ubuntu.com/ubuntu CODENAME main
<span id="line-2" class="anchor"></span>deb-src http://us.archive.ubuntu.com/ubuntu CODENAME-updates main</pre>
<pre>sudo apt update
sudo apt-get source linux-image-unsigned-$(uname -r)</pre>
<p>Note that unlike the typical &#8220;linux-image-$(uname -r)&#8221;, there is &#8220;unsigned&#8221; added to fetch the kernel source to work around the bug caused by the kernel signing [4]. You might also wonder why I am not doing git directly. The reason is simple: the apt-get approach gives the exact kernel source files that your system is running now, while git usually provides the most recent version (e.g., master) for certain distro versions. Unless you need to play with cutting-edge features from the most recent kernels, it is wise to stick with the current kernel that proves working on your system. The other benefit of this approach is about generating the config &#8211; we could simply reuse the existing config without any trouble.</p>
<p><strong>3. Build the kernel</strong></p>
<p>I do not use the official Ubuntu kernel build procedure [3], which is tedious and moreover does not support incremental build. Note that X should be the kernel version you have downloaded (apt-get), and Y could be the number of cores available in your system for a parallel build.</p>
<pre>cd linux-hwe-X
sudo make oldconfig
sudo make -jY bindeb-pkg</pre>
<p><strong>4. Install the new kernel</strong></p>
<pre>cd ..
sudo dpkg -i linux*X*.deb
<span id="line-2-4" class="anchor"></span>sudo reboot</pre>
<p><strong>5. Sign kernel modules (optional)</strong></p>
<p>If you are working with Ubuntu 16.04, it is likely that you do not need to deal with kernel module signing. But in case you need to, take a look at [6]. On Ubuntu 18.04, Lockdown is enabled by default to prevent the kernel from loading unsigned kernel modules. A quick and dirty fix is to disable Lockdown to load modules [7]:</p>
<pre class="bz_comment_text">sudo bash -c 'echo 1 &gt; /proc/sys/kernel/sysrq'
sudo bash -c 'echo x &gt; /proc/sysrq-trigger'</pre>
<p><img data-attachment-id="2603" data-permalink="https://davejingtian.org/2019/11/07/ubuntu-kernel-build-again/disable_lockdown/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/11/disable_lockdown.png" data-orig-size="814,80" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="disable_lockdown" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/11/disable_lockdown.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/11/disable_lockdown.png?w=640" tabindex="0" role="button" loading="lazy" class="alignnone size-full wp-image-2603" src="https://davejingtian.org/wp-content/uploads/2019/11/disable_lockdown.png" alt="disable_lockdown" width="814" height="80" srcset="https://davejingtian.org/wp-content/uploads/2019/11/disable_lockdown.png 814w, https://davejingtian.org/wp-content/uploads/2019/11/disable_lockdown.png?w=150&amp;h=15 150w, https://davejingtian.org/wp-content/uploads/2019/11/disable_lockdown.png?w=300&amp;h=29 300w, https://davejingtian.org/wp-content/uploads/2019/11/disable_lockdown.png?w=768&amp;h=75 768w" sizes="(max-width: 814px) 100vw, 814px" /></p>
<p><strong>6. Resize VM disk (optional)</strong></p>
<p>To build a kernel, a VM might need at least 32GB space (tested on Ubuntu 16.04, ). <em><span style="color:#3366ff;">qemu-img</span></em> is a convenient command to resize your VM image size.</p>
<pre>sudo qemu-img resize /PATH_TO_YOUR_VM_IMG_FILE +20G
sudo qemu-img resize --shrink /PATH_TO_YOUR_VM_IMG_FILE -20G
sudo qemu-img info /PATH_TO_YOUR_VM_IMG_FILE</pre>
<p>Note that the actual image size change cannot be seen from the host machine using e.g., <em><span style="color:#3366ff;">fdisk</span></em>. Instead, use qemu-img info to confirm the difference between &#8220;virtual size&#8221; and &#8220;disk size&#8221;. The former is changed by the resizing and the later has to be changed as well. We need to boot into the VM and grow the partition.</p>
<p>Once we are inside the VM, use <em><span style="color:#3366ff;">lsblk</span></em> to confirm the size that we have just grown. In the figure down below, the whole <em><span style="color:#3366ff;">/dev/vda</span></em> size is 40G but all the partitions only take 20G. We can grow the root partition (/) using parted. Unfortunately, it did not work as you can find in the figure.</p>
<p><img data-attachment-id="2601" data-permalink="https://davejingtian.org/2019/11/07/ubuntu-kernel-build-again/grow_root/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/11/grow_root.png" data-orig-size="632,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="grow_root" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/11/grow_root.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/11/grow_root.png?w=632" tabindex="0" role="button" loading="lazy" class="alignnone size-full wp-image-2601" src="https://davejingtian.org/wp-content/uploads/2019/11/grow_root.png" alt="grow_root" width="632" height="467" srcset="https://davejingtian.org/wp-content/uploads/2019/11/grow_root.png 632w, https://davejingtian.org/wp-content/uploads/2019/11/grow_root.png?w=150&amp;h=111 150w, https://davejingtian.org/wp-content/uploads/2019/11/grow_root.png?w=300&amp;h=222 300w" sizes="(max-width: 632px) 100vw, 632px" /></p>
<p>Why? Because we could not grow a partition which is not the last. Instead, we need to delete vda5 and vda2 if we wanna grow vda1. Again, <em><span style="color:#3366ff;">parted</span></em> is your friend here [5]. After we are able to append the extra 20G to the root partition (vda1), we need to fix the partition and resize the filesystem accordingly:</p>
<pre>sudo apt-get install cloud-guest-utils
sudo growpart /dev/vda 1<code>
sudo resize2fs /dev/vda1   </code></pre>
<p><strong>References:</strong></p>
<p>[1] <a href="https://davejingtian.org/2013/08/20/official-ubuntu-linux-kernel-build-with-ima-enabled/" target="_blank" rel="noopener">https://davejingtian.org/2013/08/20/official-ubuntu-linux-kernel-build-with-ima-enabled/</a><br />
[2] <a href="https://davejingtian.org/2018/03/15/make-deb-pkg-broken/" target="_blank" rel="noopener">https://davejingtian.org/2018/03/15/make-deb-pkg-broken/</a><br />
[3] <a href="https://wiki.ubuntu.com/Kernel/BuildYourOwnKernel" target="_blank" rel="noopener">https://wiki.ubuntu.com/Kernel/BuildYourOwnKernel</a><br />
[4] <a href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1790880" target="_blank" rel="noopener">https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1790880</a><br />
[5] <a href="https://unix.stackexchange.com/questions/196512/how-to-extend-filesystem-partition-on-ubuntu-vm" target="_blank" rel="noopener">https://unix.stackexchange.com/questions/196512/how-to-extend-filesystem-partition-on-ubuntu-vm</a><br />
[6] <a href="https://www.kernel.org/doc/html/v4.15/admin-guide/module-signing.html" target="_blank" rel="noopener">https://www.kernel.org/doc/html/v4.15/admin-guide/module-signing.html</a><br />
[7] <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1599197" target="_blank" rel="noopener">https://bugzilla.redhat.com/show_bug.cgi?id=1599197</a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/category/ide_make/" rel="category tag">IDE_Make</a>, <a href="https://davejingtian.org/category/linux-distro/" rel="category tag">Linux Distro</a>, <a href="https://davejingtian.org/tag/os/" rel="category tag">OS</a>					</span>
					<span class="meta-sep">|</span>
				
								<span class="tag-links">
					<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="https://davejingtian.org/tag/build/" rel="tag">build</a>, <a href="https://davejingtian.org/tag/growpart/" rel="tag">growpart</a>, <a href="https://davejingtian.org/tag/kernel/" rel="tag">kernel</a>, <a href="https://davejingtian.org/tag/kvm/" rel="tag">kvm</a>, <a href="https://davejingtian.org/tag/linux/" rel="tag">Linux</a>, <a href="https://davejingtian.org/tag/lockdown/" rel="tag">lockdown</a>, <a href="https://davejingtian.org/tag/lsblk/" rel="tag">lsblk</a>, <a href="https://davejingtian.org/tag/parted/" rel="tag">parted</a>, <a href="https://davejingtian.org/tag/qemu/" rel="tag">QEMU</a>, <a href="https://davejingtian.org/tag/qemu-img/" rel="tag">qemu-img</a>, <a href="https://davejingtian.org/tag/resize2fs/" rel="tag">resize2fs</a>, <a href="https://davejingtian.org/tag/sign/" rel="tag">sign</a>, <a href="https://davejingtian.org/tag/ubuntu/" rel="tag">Ubuntu</a>				</span>
				<span class="meta-sep">|</span>
				
				<span class="comments-link"><a href="https://davejingtian.org/2019/11/07/ubuntu-kernel-build-again/#comments">1 Comment</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2596 -->

		
	

	
			<div id="post-2535" class="post-2535 post type-post status-publish format-standard hentry category-computer-security tag-drd tag-fuzzing tag-hcd tag-kernel tag-linux tag-otg tag-qemu tag-security tag-syzkaller tag-udc tag-usb">
			<h2 class="entry-title"><a href="https://davejingtian.org/2019/07/17/usb-fuzzing-a-usb-perspective/" rel="bookmark">USB Fuzzing: A USB&nbsp;Perspective</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2019/07/17/usb-fuzzing-a-usb-perspective/" title="4:25 pm" rel="bookmark"><span class="entry-date">July 17, 2019</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				<p><span style="color:#808080;"><em><strong>Syzkaller [1] starts to support USB fuzzing recently and has already found over 80 bugs within the Linux kernel [2]. Almost every fuzzing expert whom I talked to has started to apply their fuzzing techniques to USB because of the high-security impact and potential volume of vulnerabilities due to the complexity of USB itself. While this post is NOT about fuzzing or USB security in general, I hope to provide some insights for USB fuzzing in general as someone who has been doing research on USB security for a while. Happy fuzzing!</strong></em></span></p>
<p><strong>1. Understand USB Stacks</strong></p>
<p>USB is split into two worlds due to the master-slave nature of the protocol: USB host and USB device/gadget. When we talk about USB, it usually refers to the USB host, e.g., a laptop with a standard USB port. The figure below is the Linux USB host stack. From bottom to up, we have the hardware, kernel space, and user space.</p>
<p><img data-attachment-id="2567" data-permalink="https://davejingtian.org/2019/07/17/usb-fuzzing-a-usb-perspective/usbfuzz-host-arch/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-host-arch.png" data-orig-size="571,548" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="usbfuzz-host-arch" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-host-arch.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-host-arch.png?w=571" tabindex="0" role="button" loading="lazy" class="alignnone  wp-image-2567" src="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-host-arch.png" alt="usbfuzz-host-arch" width="330" height="317" srcset="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-host-arch.png?w=330&amp;h=317 330w, https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-host-arch.png?w=150&amp;h=144 150w, https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-host-arch.png?w=300&amp;h=288 300w, https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-host-arch.png 571w" sizes="(max-width: 330px) 100vw, 330px" /><br />
<em>From the Syzkaller USB fuzzing slides by <span style="font-weight:400;">Andrey Konovalov [3].</span></em></p>
<p>The USB host controller device (aka, HCD) is a PCI device attached to the system PCI bus and provides USB connection supports via USB ports. Depending on the generation of the USB technology, it is also called UHCI/OHCI for USB 1.x, EHCI for USB 2.x, and XHCI for USB 3.x controllers. For kernel to use this controller, we need a USB host controller driver, which sets up the PCI configuration and DMAs. Above it is the USB core, implementing the underlying USB protocol stack (e.g., Chapter 9) and abstracting ways to send/recv USB packets with generic kernel APIs (submit/recv URB). Above it are different USB device drivers, such as USB HID drivers and USB mass storage drivers. These drivers implement different USB class protocols (e.g., HID, Mass Storage), provide glue layers with other subsystems within the kernel (e.g., input and block), facilitate user spaces (e.g., creating /dev node).</p>
<p>Since Linux is also widely used in embedded systems, e.g., some USB dongles, USB device/gadget refers to both the USB dongle hardware and the USB mode within Linux. &#8220;Surprisingly&#8221;, it is totally different from the USB host mode. The figure down below demonstrates the USB gadget stack within the Linux kernel.</p>
<p><img data-attachment-id="2568" data-permalink="https://davejingtian.org/2019/07/17/usb-fuzzing-a-usb-perspective/usbfuzz-gadget-arch/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-gadget-arch.png" data-orig-size="625,534" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="usbfuzz-gadget-arch" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-gadget-arch.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-gadget-arch.png?w=625" tabindex="0" role="button" loading="lazy" class="alignnone  wp-image-2568" src="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-gadget-arch.png" alt="usbfuzz-gadget-arch" width="349" height="299" srcset="https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-gadget-arch.png?w=349&amp;h=299 349w, https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-gadget-arch.png?w=150&amp;h=128 150w, https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-gadget-arch.png?w=300&amp;h=256 300w, https://davejingtian.org/wp-content/uploads/2019/07/usbfuzz-gadget-arch.png 625w" sizes="(max-width: 349px) 100vw, 349px" /><br />
<em>From the Syzkaller USB fuzzing slides by <span style="font-weight:400;">Andrey Konovalov [3].</span></em></p>
<p>At the bottom, we have the USB device controller (aka, UDC). Like HCDs, UDCs also implement specific version of the USB standards within the PHY layer. However, unlike the most common HCDs made by Intel, UDC IPs are found from different hardware vendors [8], such as DWC2/3, OMAP, TUSB, and FUSB. These controllers usually have their own design specifications, and might follow the HCD specification (e.g., XHCI specification) as well when they support USB On-The-Go (aka, OTG) mode. OTG allows a UDC to switch between USB host and USB device/gadget modes. For example, when an Android device connects with a laptop as MTP, the Android USB device controller is in the USB device/gadget mode. If a USB flash drive is plugged into an Android device, the UDC works in the USB host mode. A UDC supporting OTG is also replaced by a Dual-Role Device (DRD) controller in USB 3.x standards [11]. As a result, an OTG cable is not needed to switch the role of the UDC, since the role switching is done in software for a DRD controller.</p>
<p>To use a UDC, you need a UDC driver within the kernel, providing connection and configuration over industry-standard buses including both the AMBA™ AHB and AXI interfaces, and setting up DMAs for the higher layer. Like the USB core within USB host stack, the USB gadget core within USB gadget stack provides APIs to register and implement a USB gadget function via callbacks and configfs. For instance, we can pass USB descriptors to the USB gadget core and achieve a typical USB mass storage device by requesting the existing mass storage function (f_mass_storage). For more complicated protocols such as MTP, a user-space daemon or library provides the protocol logic and communicates with the gadget function via e.g., configfs or usbfs.</p>
<p><strong>2. Where We Are</strong></p>
<p>USB fuzzing started to attract more attention thanks to the FaceDancer [4], a programmable USB hardware fuzzer. It supports both USB host and device/gadget mode emulation and allows sending out pre-formed or mal-formed USB requests and response. Umap/Umap2 [5] provides a fuzzing framework written in Python with the different USB device and response templates for the FaceDancer. The TTWE framework [9] enables MitM between a USB host and a USB device by using 2 FaceDancers emulating the USB host and device/gadget, respectively. This MitM allows USB packet mutations for both directions, thus enables fuzzing on both sides.</p>
<p>All these solutions focus on the USB host stack due to the facts that people assume a malicious USB device rather than a malicious USB host, e.g., a laptop, and that most USB device firmware is closed source and thus hard to analyze. Accordingly, most of the bugs/vulnerabilities are found within the USB core (for parsing USB response) and some common USB drivers (e.g., keyboard). The pros of these solutions are their ability to faithfully emulate a USB device. However, the problems, in my opinions, are:</p>
<p><span style="color:#3366ff;"><em>a. Hardware dependency.</em></span><br />
<span style="color:#3366ff;"><em>b. Limited feedback from the target.</em></span></p>
<p>FaceDancer is slow, which makes any solution built upon it not scale. The fact that we need both a FaceDancer and a target machine as the minimum to start fuzzing also imposes more challenges for scalability. Feedback is the other big issue here. Mutations of the fuzzing input are based on templates and randomizations without real-time feedback from the target (e.g., code coverage) except system logging. Thus, fuzzing efficiency is questionable. As a result, these solutions are &#8220;best-effort&#8221; to find some bugs with a minimum setup effort.</p>
<p>To get rid of the hardware dependency, virtualization (e.g., QEMU) comes to save. vUSBf [6] uses QEMU/KVM to run a kernel image and leverages the USB redirection protocol within QEMU to redirect the access to USB devices to a USB emulator controlled by the fuzzer, as shown below:</p>
<p><img data-attachment-id="2570" data-permalink="https://davejingtian.org/2019/07/17/usb-fuzzing-a-usb-perspective/vusbf-arch/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/07/vusbf-arch.png" data-orig-size="709,576" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vusbf-arch" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/07/vusbf-arch.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/07/vusbf-arch.png?w=640" tabindex="0" role="button" loading="lazy" class="alignnone  wp-image-2570" src="https://davejingtian.org/wp-content/uploads/2019/07/vusbf-arch.png" alt="vusbf-arch" width="339" height="275" srcset="https://davejingtian.org/wp-content/uploads/2019/07/vusbf-arch.png?w=339&amp;h=275 339w, https://davejingtian.org/wp-content/uploads/2019/07/vusbf-arch.png?w=678&amp;h=550 678w, https://davejingtian.org/wp-content/uploads/2019/07/vusbf-arch.png?w=150&amp;h=122 150w, https://davejingtian.org/wp-content/uploads/2019/07/vusbf-arch.png?w=300&amp;h=244 300w" sizes="(max-width: 339px) 100vw, 339px" /><br />
<em>From the vUSBf paper <span style="font-weight:400;">[6].</span></em></p>
<p>While vUSBf provides a nice orchestration architecture to run multiple QEMU instances in parallel solve scalability issues, the fuzzer itself is essentially based on templates (or test cases according to the paper. The feedback still relies on system logging. POTUS [7] moves a step forward to leverage symbolic execution, e.g., S2E, to inject faults from the USB HCD layer, as shown below:</p>
<p><img data-attachment-id="2571" data-permalink="https://davejingtian.org/2019/07/17/usb-fuzzing-a-usb-perspective/potus-arch/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/07/potus-arch.png" data-orig-size="311,231" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="potus-arch" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/07/potus-arch.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/07/potus-arch.png?w=311" tabindex="0" role="button" loading="lazy" class="alignnone  wp-image-2571" src="https://davejingtian.org/wp-content/uploads/2019/07/potus-arch.png" alt="potus-arch" width="326" height="242" srcset="https://davejingtian.org/wp-content/uploads/2019/07/potus-arch.png 311w, https://davejingtian.org/wp-content/uploads/2019/07/potus-arch.png?w=150&amp;h=111 150w, https://davejingtian.org/wp-content/uploads/2019/07/potus-arch.png?w=300&amp;h=223 300w" sizes="(max-width: 326px) 100vw, 326px" /><br />
<em>From the POTUS paper [7].</em></p>
<p>SystemTap is used to instrument the kernel to inject fault and annotations to save the number of faults. A path prioritization algorithm based on the number of faults within different states is used to control the number of &#8220;forks&#8221;. The number of faults of a given path represents the code coverage. Thus, a significant number of faults represents a high code coverage. POTUS also implements a generic USB virtual device within QEMU to emulate different USB devices using configurable device descriptors and data transfer. The Driver Exerciser within the VM uses syscalls to play with different device node exposed to the VM. Comparing to vUSBf, POTUS includes a fuzzing feedback mechanism (by counting the number of faults within a path) and support more USB device emulations. However, the manual effort to emulate operations on certain USB devices within the Driver Exerciser, fundamental limitations of symbolic executions &#8211; path explosion, and the unknown effectiveness and limitations of relying on the number of faults of a path for path scheduling, make POTUS hard to evaluate in the real world.</p>
<p>Syzkaller [1] USB fuzzing support [12] was added recently by <span style="font-weight:400;">Andrey Konovalov at Google., and has demonstrated its ability to find more bugs. Andrey solved two main problems of using Syzkaller to fuzz USB:</span></p>
<p><span style="color:#3366ff;"><em>a. Code coverage for kernel tasks.</em></span><br />
<span style="color:#3366ff;"><em>b. Device emulation within the same kernel image.</em></span></p>
<p>Since USB events and operations happen within IRQ or kernel context rather than a process context (e.g., USB plugging detection within khub kernel task in older kernels), syscall-based tracing and code coverage [10] simply won&#8217;t work. We need the ability to report the code coverage anywhere within the kernel. To do that, we need to annotate the USB-related kernel source (e.g., hub.c) with the extended KCOV kernel APIs to report the code coverage [13]. Instead of relying on QEMU, Syzkaller uses the gadgetfs to expose a fuzzer kernel driver to the user space [14], which can then manipulate the input for fuzzing. By enabling both the USB host stack and the USB gadget stack in the kernel configuration and connecting them using the dummy HCD and UDC drivers together as shown below, Syakaller is able to fuzz USB host device drivers, such as USB HID, Mass Storage, etc., from the user-space fuzzing the USB fuzzer kernel driver.</p>
<p><img data-attachment-id="2572" data-permalink="https://davejingtian.org/2019/07/17/usb-fuzzing-a-usb-perspective/syzkaller-arch/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png" data-orig-size="1120,386" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="syzkaller-arch" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png?w=640" tabindex="0" role="button" loading="lazy" class="alignnone  wp-image-2572" src="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png" alt="syzkaller-arch.png" width="549" height="189" srcset="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png?w=549&amp;h=189 549w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png?w=1098&amp;h=378 1098w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png?w=150&amp;h=52 150w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png?w=300&amp;h=103 300w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png?w=768&amp;h=265 768w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch.png?w=1024&amp;h=353 1024w" sizes="(max-width: 549px) 100vw, 549px" /><br />
<em>From the Syzkaller USB fuzzing slides by <span style="font-weight:400;">Andrey Konovalov [3].</span></em></p>
<p>Syzkaller USB fuzzer might be the first real coverage-based USB host device driver fuzzer thanks to the existing Syzkaller infrastructure and nice hackings to bridge the USB host and gadget the same time. While it has found tons of bugs and vulnerabilities, the limitation of the fuzzer starts to reveal &#8211; most of the issues found were in the initialization phase of a driver (e.g., probing). In the user space, the fuzzer is able to configure the fuzzer kernel driver to represent any USB device/gadget by exploring different VID/PID combinations within the USB device descriptor. On the one hand, Syzkaller is able to trigger almost every USB host device driver to be loaded, thus having a prominent code coverage horizontally. On the other hand, since no real emulation code for a certain device is provided within the user-space fuzzer or the fuzzer kernel driver, most fuzzing stops after the initialization of a driver, thus covering only a small portion of the driver vertically.</p>
<p><strong>3. What To Be Done</strong></p>
<p>Cautions readers might have found it already &#8211; all these fuzzing solutions focus on the USB host stack, especially on the USB host device drivers. Again, this is due to the facts that people often refer USB to the USB host stack, and that these device drivers are famous for containing more vulnerabilities than other components within the kernel (e.g., device drivers on Windows). However, at this point, I believe you have realized that what has been covered on USB fuzzing so far is the tip of the iceberg, either horizontally or vertically. Let&#8217;s enumerate what to be done next.</p>
<p><span style="color:#3366ff;"><strong><em>a. HCD drivers fuzzing</em></strong></span></p>
<p>If we limit ourselves within the USB host stack, it is interesting to find HCD drivers are ignored. Unlike device drivers, they are not accessible from the user space via syscall (except tunning some parameters using sysfs). Instead, they receive inputs from the USB core (e.g., usb_submit_urb) in the upper layer (internal) and DMAs of the HCD layer (external). From a security perspective, external inputs should impose more threats than the internal ones.</p>
<p>To directly fuzz the internal inputs of HCD drivers, we need the ability to mutates the parameters of kernel APIs exposed to the USB core and get the code coverage from the HCD driver. <span style="color:#3366ff;">To directly fuzz the external inputs of HCD drivers, we need to mutate on DMA buffers and event queues, as well as the code coverage from the HCD driver</span>. Note that the code coverage is often different in these two cases because of different code paths for TX and RX. Thus we need a fine-granularity code coverage reporting to reflect this. Mutating on DMA buffers and event queues is essentially building an HCD emulator with fuzzing capabilities. For common HCD drivers such as Intel XHCI, QEMU provides the corresponding HCD emulation already (e.g., qemu/hw/usb/hcd-xhci.c), and one can try to add fuzzing functionality there. For other HCD drivers that QEMU does not provide the HCD emulation, one needs to build the HCD emulation from scratch.</p>
<p><span style="color:#3366ff;"><em><strong>b. USB device/gadget stack fuzzing</strong></em></span></p>
<p>Yes, we do not have systematic fuzzing on the USB device/gadget stack. It used to be OK since we often assume a malicious USB device rather than a malicious host. However, the broad adoption of USB OTG and DRD controllers in embedded systems (e.g., Android devices) extends the threat model to include USB host as well. For example, no one wants their phones to be hacked during USB charging. Architecturally, Syzkaller USB fuzzer has imagined a way to fuzz the USB device/gadget stack, as shown below.</p>
<p><img data-attachment-id="2573" data-permalink="https://davejingtian.org/2019/07/17/usb-fuzzing-a-usb-perspective/syzkaller-arch-todo/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png" data-orig-size="1112,389" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="syzkaller-arch-todo" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png?w=640" tabindex="0" role="button" loading="lazy" class="alignnone  wp-image-2573" src="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png" alt="syzkaller-arch-todo" width="543" height="190" srcset="https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png?w=543&amp;h=190 543w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png?w=1086&amp;h=380 1086w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png?w=150&amp;h=52 150w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png?w=300&amp;h=105 300w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png?w=768&amp;h=269 768w, https://davejingtian.org/wp-content/uploads/2019/07/syzkaller-arch-todo.png?w=1024&amp;h=358 1024w" sizes="(max-width: 543px) 100vw, 543px" /><br />
<em>From the Syzkaller USB fuzzing slides by <span style="font-weight:400;">Andrey Konovalov [3].</span></em></p>
<p>Instead of having the user-space fuzzer communicating with the USB fuzzer kernel driver, another user-space fuzzer will manipulate USB host device drivers. The fuzzer activities will be propagated via the USB host stack to the USB device/gadget stack, hopefully. Accordingly, we need to configure the kernel to enable all different gadget functions within the same kernel image, as well as code coverage reporting. We are then able to fuzz the USB gadget core and USB gadget function drivers, except UDC drivers.</p>
<p>Note that Syzkaller imagines one way to fuzz the USB device/gadget stack, a natural result due to the architecture and limitations of Syzkaller. Syzkaller is a syscall fuzzer, meaning that the input mutations happen from syscall parameters. But this does not mean we have to fuzz at the syscall layer (e.g., user-space). If we look at the figure above again, we can find a long path from the fuzzer to the fuzzing target (e.g., USB host device drivers or USB device/gadget drivers). How could we know if all the fuzzing inputs are successfully propagated to the target instead of being filtered by middle layers in between? <span style="color:#3366ff;">One core question is if syscall-based fuzzing is suitable for USB fuzzing within the kernel.</span> Again, the Syzkaller USB fuzzer accommodates itself to the constraints of the Syzkaller itself instead of thinking about building a USB fuzzer (e.g., the USB host or gadget stacks) from scratch.</p>
<p>To shorten the fuzzing path is to push the fuzzer (inputs) close to the target. For example, we could get rid of the whole USB host stack by building a USB UDC emulator/fuzzer within QEMU, directly enabling UDC driver fuzzing. However, this does not mean any DMA write can be translated into a valid USB request to the USB gadget drivers in the upper layer. As a result, the fuzzing path is indeed shorter, but we still hope that the mutation algorithm and the code coverage granularity will save us. <span style="color:#3366ff;">In the end, we might need different fuzzers for different layers within the stack, making sure all fuzzing inputs applied to the target without being filtered.</span> E.g., we may need to build a USB host emulator/fuzzer sending out USB requests to different USB gadget drivers directly.</p>
<p><em><strong>c. Android USB fuzzing</strong></em></p>
<p>Android might be the heaviest USB device/gadget stack user via maintaining its own branch of the kernel and implementing extra USB gadget function drivers (e.g., MTP). The OTG/DRD support within Android devices also doubles the attacking surface comparing to a typical USB host machine. <span style="color:#3366ff;">The fundamental challenge is to run an Android kernel image with the corresponding UDC/DRD drivers used by real-world Android devices using QEMU.</span> Running non-AOSP kernels in QEMU imposes extra difficulties due to SoC customizations and variations. That&#8217;s why a lot of Android fuzzing still requires a physical device.</p>
<p><em><strong>d. Protocol-guided/Stateful fuzzing</strong></em></p>
<p>In section b, we talked about why we might wanna shorten the fuzzing path because we wanna avoid fuzzing inputs being filtered before hitting the target. Turns out it is much more complicated here. If we look at the figure above on USB device/gadget fuzzing imagined in Syzkaller again, the fuzzer inputs start with syscalls, pass different USB host device drivers before finally delivered to the USB gadget stack. Yes, the fuzzing path is long, and the fuzzing input could be filtered along the way. Meanwhile, these extra layers in between guarantee that whatever fuzzing inputs sent out is legitimate USB request carrying the corresponding protocol payload triggered by the right driver state. For example, the final USB request generated by the fuzzer via the USB mass storage driver might contain a legitimate SCSI command (e.g., read) triggered by the core logic of the USB host device driver rather than the initialization part.</p>
<p>This is what I call the &#8220;protocol-guided/stateful&#8221; fuzzing. As you can tell, it is essential to go &#8220;deeper&#8221; vertically within a layer, e.g., exploring other parts of a kernel driver beyond the initialization/probing phase. Simply put, to fuzz either USB host or device/gadget drivers, we need to establish a virtual connection with the target (e.g., making sure the kernel driver initialized and ready to process inputs) &#8211; stateful, and teach the fuzzer to learn the structure of the input (e.g., SCSI protocol in USB Mass Storage) &#8211; protocol-guided. <span style="color:#3366ff;">In the end, it is a trade-off between including other layers to reuse the existing protocol and state controls thus increasing the fuzzing path and complexity and implementing a light-weight protocol-aware/stateful fuzzing within the fuzzer directly to reduce the fuzzing path.</span> Both have their pros and cons.</p>
<p><em><strong>e. Type-C/USBIP/WUSB fuzzing</strong></em></p>
<p>There are more things in USB other than the USB host and USB device/gadget, including USB Type-C, USBIP, WUSB, etc. While we could reuse some of the lessons learns in USB fuzzing, these technologies introduce different software stacks and may require different attentions to solve their quirks.</p>
<p><strong>4. Summary</strong></p>
<p>This post looks into USB fuzzing, a recent hot topic from both software security and operating system security. Instead of treating USB as another piece of software, we start with understanding what USB stacks are and why USB refers to a bigger picture than what people often imagined. We survey some previous works on USB fuzzing, from using specialized hardware to running QEMU. We conclude with what is missing and foresee the future.</p>
<p><em>P.S. This blog post was long overdue. I promised to have it a month ago but never made it. I also underestimated how much time needed to finish it. A lesson learns (again, for myself) is to start early and focus. Anyway, better delay than nothing:)</em></p>
<p><strong>References:</strong></p>
<p>[1] <a href="https://github.com/google/syzkaller" target="_blank" rel="noopener">https://github.com/google/syzkaller</a><br />
[2] <a href="https://github.com/google/syzkaller/blob/e90d7ed8d240b182d65b1796563d887a4f9dc2f6/docs/linux/found_bugs_usb.md" target="_blank" rel="noopener">https://github.com/google/syzkaller/blob/e90d7ed8d240b182d65b1796563d887a4f9dc2f6/docs/linux/found_bugs_usb.md</a><br />
[3] <a href="https://docs.google.com/presentation/d/1z-giB9kom17Lk21YEjmceiNUVYeI6yIaG5_gZ3vKC-M/edit?usp=sharing" target="_blank" rel="noopener">https://docs.google.com/presentation/d/1z-giB9kom17Lk21YEjmceiNUVYeI6yIaG5_gZ3vKC-M/edit?usp=sharing</a><br />
[4] <a href="http://goodfet.sourceforge.net/hardware/facedancer21/" target="_blank" rel="noopener">http://goodfet.sourceforge.net/hardware/facedancer21/</a><br />
[5] <a href="https://github.com/nccgroup/umap2" target="_blank" rel="noopener">https://github.com/nccgroup/umap2</a><br />
[6] <a href="https://github.com/schumilo/vUSBf" target="_blank" rel="noopener">https://github.com/schumilo/vUSBf</a><br />
[7] <a href="https://www.usenix.org/conference/woot17/workshop-program/presentation/patrick-evans" target="_blank" rel="noopener">https://www.usenix.org/conference/woot17/workshop-program/presentation/patrick-evans</a><br />
[8] <a href="https://elinux.org/Tims_USB_Notes" target="_blank" rel="noopener">https://elinux.org/Tims_USB_Notes</a><br />
[9] <a href="https://www.usenix.org/conference/woot14/workshop-program/presentation/van-tonder" target="_blank" rel="noopener">https://www.usenix.org/conference/woot14/workshop-program/presentation/van-tonder</a><br />
[10] <a href="https://davejingtian.org/2017/06/01/understanding-kcov-play-with-fsanitize-coveragetrace-pc-from-the-user-space/" target="_blank" rel="noopener">https://davejingtian.org/2017/06/01/understanding-kcov-play-with-fsanitize-coveragetrace-pc-from-the-user-space/</a><br />
[11] <a href="https://blogs.synopsys.com/tousbornottousb/2018/05/03/usb-dual-role-replaces-usb-on-the-go/" target="_blank" rel="noopener">https://blogs.synopsys.com/tousbornottousb/2018/05/03/usb-dual-role-replaces-usb-on-the-go/</a><br />
[12] <a href="https://github.com/google/syzkaller/commit/e90d7ed8d240b182d65b1796563d887a4f9dc2f6" target="_blank" rel="noopener">https://github.com/google/syzkaller/commit/e90d7ed8d240b182d65b1796563d887a4f9dc2f6</a><br />
[13] <a href="https://github.com/xairy/linux/commit/ff543afbf78902acea566fa4c635240ede651f77" target="_blank" rel="noopener">https://github.com/xairy/linux/commit/ff543afbf78902acea566fa4c635240ede651f77</a><br />
[14] <a href="https://github.com/xairy/linux/commit/700fb65580efc049133628e7b9f65453bb686231" target="_blank" rel="noopener">https://github.com/xairy/linux/commit/700fb65580efc049133628e7b9f65453bb686231</a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/category/computer-security/" rel="category tag">Security</a>					</span>
					<span class="meta-sep">|</span>
				
								<span class="tag-links">
					<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="https://davejingtian.org/tag/drd/" rel="tag">drd</a>, <a href="https://davejingtian.org/tag/fuzzing/" rel="tag">fuzzing</a>, <a href="https://davejingtian.org/tag/hcd/" rel="tag">HCD</a>, <a href="https://davejingtian.org/tag/kernel/" rel="tag">kernel</a>, <a href="https://davejingtian.org/tag/linux/" rel="tag">Linux</a>, <a href="https://davejingtian.org/tag/otg/" rel="tag">OTG</a>, <a href="https://davejingtian.org/tag/qemu/" rel="tag">QEMU</a>, <a href="https://davejingtian.org/tag/security/" rel="tag">security</a>, <a href="https://davejingtian.org/tag/syzkaller/" rel="tag">syzkaller</a>, <a href="https://davejingtian.org/tag/udc/" rel="tag">UDC</a>, <a href="https://davejingtian.org/tag/usb/" rel="tag">USB</a>				</span>
				<span class="meta-sep">|</span>
				
				<span class="comments-link"><a href="https://davejingtian.org/2019/07/17/usb-fuzzing-a-usb-perspective/#comments">3 Comments</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2535 -->

		
	

	
			<div id="post-2526" class="post-2526 post type-post status-publish format-standard hentry category-computer-security tag-enclave tag-epc tag-intel tag-kvm tag-sgx tag-vca">
			<h2 class="entry-title"><a href="https://davejingtian.org/2019/03/25/speculations-on-intel-sgx-card/" rel="bookmark">Speculations on Intel SGX&nbsp;Card</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2019/03/25/speculations-on-intel-sgx-card/" title="11:21 am" rel="bookmark"><span class="entry-date">March 25, 2019</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				<p><span style="color:#808080;"><em><strong>One of the exciting things Intel has brought to RSA 2019 is Intel SGX Card [2]. Yet there is not much information about this coming hardware. This post collects some related documentation from Intel and speculates what could happen within Intel SGX Card with a focus on software architecture, cloud deployment, and security analysis. NOTE: all the figures come from public Intel blog posts and documentation, and there is no warranty for my speculations on Intel SGX Card! Read with caution!</strong></em></span></p>
<p><strong>1. Intel SGX Card</strong></p>
<p>According to [2], &#8220;<span style="color:#3366ff;"><em>Though Intel SGX technology will be available on future multi-socket Intel® Xeon® Scalable processors, there is pressing demand for its security benefits in this space today. Intel is accelerating deployment of Intel SGX technology for the vast majority of cloud servers deployed today with the Intel SGX Card. Additional benefits offer access to larger, non-enclave memory spaces, and some additional side-channel protections when compartmentalizing sensitive data to a separate processor and associated cache.</em></span>&#8221;</p>
<p>Simply put, Intel SGX Card is introduced to address 3 problems on SGX usage within cloud:</p>
<ol>
<li>Older servers/CPUs that do not support SGX</li>
<li>Small EPC memory pool</li>
<li>Side-channel attacks</li>
</ol>
<p>Accordingly, Intel SGX Card is designed as a PCIe card, which can be plugged into old servers. This solves the first problem. But what about the second and the third problems? How could Intel SGX Card have larger EPC memory pool and defend against side-channel attacks? To answer these questions, we need to look into the internals of Intel SGX Card.</p>
<p><strong>2. Intel VCA</strong></p>
<p>According to [1], Intel SGX Card is actually built upon Intel VCA, the Intel® Visual Compute Accelerator (Intel® VCA) card [3]. Moreover, &#8220;<span style="color:#3366ff;"><em>Intel VCA is a purpose-built accelerator designed to boost performance of visual computing workloads like media transcoding, object recognition and tracking, and cloud gaming, originally developed as a way to improve video creation and delivery. In the Intel® SGX Card, the graphics accelerator has been disabled and the system re-optimized specifically for security purposes. In order to take advantage of Intel SGX technology, three Intel Xeon E processors are hosted in the card, which can fit inside existing, multi-socket server platforms being used in data centers today.</em></span>&#8221;</p>
<p>Alright, so Intel SGX Card is Intel VCA with graphics accelerator disabled essentially. Now it is time to learn what Intel VCA is. After some digging online, I found 2 precious documentations describing hardware specification [4] and software guide [5] respectively. Readers are encouraged to give a careful read on these documentations. Below is the TL;DR version.</p>
<p><img data-attachment-id="2527" data-permalink="https://davejingtian.org/2019/03/25/speculations-on-intel-sgx-card/vca-hw-dimm/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/03/vca-hw-dimm.png" data-orig-size="1787,995" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vca-hw-dimm" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/03/vca-hw-dimm.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/03/vca-hw-dimm.png?w=640" tabindex="0" role="button" loading="lazy" class="alignnone size-full wp-image-2527" src="https://davejingtian.org/wp-content/uploads/2019/03/vca-hw-dimm.png" alt="vca-hw-dimm" width="1787" height="995" srcset="https://davejingtian.org/wp-content/uploads/2019/03/vca-hw-dimm.png 1787w, https://davejingtian.org/wp-content/uploads/2019/03/vca-hw-dimm.png?w=150&amp;h=84 150w, https://davejingtian.org/wp-content/uploads/2019/03/vca-hw-dimm.png?w=300&amp;h=167 300w, https://davejingtian.org/wp-content/uploads/2019/03/vca-hw-dimm.png?w=768&amp;h=428 768w, https://davejingtian.org/wp-content/uploads/2019/03/vca-hw-dimm.png?w=1024&amp;h=570 1024w" sizes="(max-width: 1787px) 100vw, 1787px" /></p>
<p>The Intel VCA (or VCA 2) is a PCIe card with 3 Xeon CPUs. As shown in the figure above, each CPU has its own DRAM, instead of sharing RAMs. The internal architecture below shows better the nature of this card: <span style="color:#339966;">3 computers within a PCIe card.</span></p>
<p><img data-attachment-id="2528" data-permalink="https://davejingtian.org/2019/03/25/speculations-on-intel-sgx-card/vca2-hw-internal/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/03/vca2-hw-internal.png" data-orig-size="1581,1117" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vca2-hw-internal" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/03/vca2-hw-internal.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/03/vca2-hw-internal.png?w=640" tabindex="0" role="button" loading="lazy" class="alignnone size-full wp-image-2528" src="https://davejingtian.org/wp-content/uploads/2019/03/vca2-hw-internal.png" alt="vca2-hw-internal" width="1581" height="1117" srcset="https://davejingtian.org/wp-content/uploads/2019/03/vca2-hw-internal.png 1581w, https://davejingtian.org/wp-content/uploads/2019/03/vca2-hw-internal.png?w=150&amp;h=106 150w, https://davejingtian.org/wp-content/uploads/2019/03/vca2-hw-internal.png?w=300&amp;h=212 300w, https://davejingtian.org/wp-content/uploads/2019/03/vca2-hw-internal.png?w=768&amp;h=543 768w, https://davejingtian.org/wp-content/uploads/2019/03/vca2-hw-internal.png?w=1024&amp;h=723 1024w" sizes="(max-width: 1581px) 100vw, 1581px" /></p>
<p>These 3 CPUs do not only have their own DRAMs but also PCH chipsets and Flashes. They are connected and multiplexed by a PCIe bridge connecting with the host machine. Note that VCA 2 also supports optional NVM storage M2, as shown in the figure above. Let&#8217;s take a look at the software stack.</p>
<p><img data-attachment-id="2529" data-permalink="https://davejingtian.org/2019/03/25/speculations-on-intel-sgx-card/vca-sw-arch/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-arch.png" data-orig-size="1395,1213" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vca-sw-arch" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-arch.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-arch.png?w=640" tabindex="0" role="button" loading="lazy" class="alignnone size-full wp-image-2529" src="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-arch.png" alt="vca-sw-arch" width="1395" height="1213" srcset="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-arch.png 1395w, https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-arch.png?w=150&amp;h=130 150w, https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-arch.png?w=300&amp;h=261 300w, https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-arch.png?w=768&amp;h=668 768w, https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-arch.png?w=1024&amp;h=890 1024w" sizes="(max-width: 1395px) 100vw, 1395px" /></p>
<p>Did I say &#8220;3 computers within a PCIe card&#8221;? I actually mean it. <span style="color:#339966;">Each CPU within the VCA card runs its own software stack, including UEFI/BIOS, operating system, drivers, SDKs, and applications.</span> These operating systems could be Linux or Windows. Hypervisors are also supported including KVM and Xen. Even &#8220;better&#8221;, each CPU is also equipped with Intel SPS and ME. If you count ME as a microcomputer as well, now we have 3 microcomputers running inside 3 computers within 1 PCIe card.</p>
<p><img data-attachment-id="2530" data-permalink="https://davejingtian.org/2019/03/25/speculations-on-intel-sgx-card/vca-sw-net/" data-orig-file="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-net.png" data-orig-size="1740,1094" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vca-sw-net" data-image-description="" data-image-caption="" data-medium-file="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-net.png?w=300" data-large-file="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-net.png?w=640" tabindex="0" role="button" loading="lazy" class="alignnone size-full wp-image-2530" src="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-net.png" alt="vca-sw-net" width="1740" height="1094" srcset="https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-net.png 1740w, https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-net.png?w=150&amp;h=94 150w, https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-net.png?w=300&amp;h=189 300w, https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-net.png?w=768&amp;h=483 768w, https://davejingtian.org/wp-content/uploads/2019/03/vca-sw-net.png?w=1024&amp;h=644 1024w" sizes="(max-width: 1740px) 100vw, 1740px" /></p>
<p><span style="color:#339966;">Each computer within VCA is also called a node. Therefore, there are 3 nodes within 1 VCA card. Unlike typical PCIe cards, VCA exposes itself as virtual network interfaces to the host machine.</span> For example, 2 VCA cards (6 nodes) add 6 different Virt eth interfaces to the host machine, as shown in the figure above. These Virt eth interfaces are implemented as MMIO over PCIe. Given that each node is indeed an independent computer system with full software stacks, this virtual network interface concept might be a reasonable abstraction. I was worried about the overhead of going through TCP/IP stack. Then I realize that Intel could provide dedicated drivers on both the host and the node side to bypass the TCP/IP stack, which is very possible, as suggested by those VCA drivers. It would be interesting to see what &#8220;packet&#8221; is sent and received from these virtual NICs. <span style="color:#339966;">To support high bandwidth and throughput, the MMIO region is 4GB minimum. This means each node takes a 4GB memory space from the main system memory, as well as its internal memory.</span></p>
<p><strong>3. Speculations on Intel SGX Card</strong></p>
<p>Once we have some basic understanding of Intel VCA, we can now speculate what Intel SGX Card could be. Depending on what Intel meant by &#8220;<span style="color:#3366ff;">disabling graphics accelerators</span>&#8220;, it could be removing those VCA drivers and SDK within each node. Once we did that, we would have a prototype Intel SGX Card, where 3 SGX nodes run a typical operating system connecting with the host machine via PCIe. Now, what could we do?</p>
<p>To reuse most of the software stack developed for VCA already, I probably would keep the virtual network interface instead of creating a different device within the host machine. As such, the host still talks with the SGX card in virt eth. <span style="color:#339966;">Within each node of the SGX card, we could install the typical Intel SGX PSW and SDK without any trouble since each node is an SGX machine.</span> Then each node has all the necessary runtime to support SGX applications. On the host side, we could still install Intel SGX SDK to support compilation &#8220;locally&#8221;, although we might not be able to install PSW assuming an old Xeon processor. But this is not a problem because we will relay the compiled SGX application to the SGX card. To achieve this, a<span style="color:#339966;"> new SGX kernel driver is needed on the host machine to send the SGX application to one node within the SGX card via the virt eth interface.</span></p>
<p>So far we have speculated how to use Intel SGX card within a host (or server). It is time to review the design goals of Intel SGX card again:</p>
<ol>
<li>Enable older servers to support SGX</li>
<li>Enlarge EPC memory pool</li>
<li>Protect from side-channel attacks</li>
</ol>
<p>The first problem can be achieved easily with the PCIe design and the fact that each node within the Intel SGX card is a self-contained SGX-enabled computer. However, the scalability of this solution is still limited by the number of PCIe (x16) slots available within a server and the number of CPU nodes within an Intel SGX Card. The number of PCIe slots is also limited by the power supply within the system. Unless we are talking about some crazy GPU-in-favor motherboard [6], 4 PCIe x16 slots seem to be a reasonable estimation. Multiplied by 3 (number of nodes within an Intel SGX card), <span style="color:#339966;">we would have 12 SGX-enabled CPU nodes available within a server.</span></p>
<p>The second goal is a byproduct of the independent DRAM of each node within the Intel SGX card. Recall that each node has a maximum 32GB memory available. If Intel SGX card is based upon Intel VCA 2, each node then has maximum 64GB memory available. Because this 32GB (or 64GB) memory is dedicated to the node for SGX computation instead of a portion from the main system memory within the server, we can anticipate the EPC to be large for each node. For instance, a typical EPC memory size within an SGX-enable machine is 128MB. Because of the Merkle Tree used to maintain the integrity of each page and other housekeeping metadata, only around 90MB is for real enclave allocations. This means the overhead of EPC is 1/4 in general. <span style="color:#339966;">If we assume 32GB for each node within an Intel SGX card, we could easily have 16GB for EPC, among of which 4GB is used for EPC management and 12GB for enclave allocations.</span> Why 16GB? You might ask. Well, remember that each node is a running system. We need some memory both for OS and applications, including the non-enclave part of SGX applications. Moreover, due to the MMIO requirement, a 4GB memory space is reserved on both the main system memory and node&#8217;s memory for each node. As a result, we have roughly 12GB left for OS and applications for each node. Of course, we could push more but you get the point. We will see the EPC size once Intel SGX card is available.</p>
<p>The third goal is described as &#8220;<span style="color:#3366ff;">additional benefit</span>&#8221; of using Intel SGX card. Because all the 3 nodes within an Intel SGX card have its independent RAM and cache (which are also separated from the main system if the host supports SGX as well), we definitely could have better security guarantees for SGX applications. First, SGX applications can run within a node, thus isolating themselves from other processes running on the main system. Second, different SGX applications can run on different nodes, thus reducing the impact of enclave-based malware or side-channel attacks. Everything sounds good! What could possibly go wrong?</p>
<p><strong>4. Speculations on security</strong></p>
<p>First of all, <span style="color:#339966;">SGX applications running within Intel SGX card is still vulnerable to whatever attacks as before, because each node within the card is still a computer system with a full software stack. </span>Unless this whole software stack is within the TCB, an SGX application is still vulnerable to attacks from all other processes and even the OS or hypervisors running within the same node. From SGX application point of view, nothing is changed, really.</p>
<p>The other question is how a cloud service provider (CSP) could distribute SGX workload? A straightforward solution would be based on load balancing, where a CSP distributes different SGX applications to different nodes for performance considerations regardless of security levels of different end users. Again, this is no different with an SGX-enabled host machine running different SGX applications from different users. Another solution would be mapping a node with one user, meaning that SGX applications from the same user will run within the same node. While this solution reduces attacks from other end users, we can easily run into scalability issues given the limited number of nodes available within a system and a possibly large number of end users. The other problem of this solution would be load unbalancing. User A might only have 1 SGX applications running on node N-A while user B might have 100 SGX applications running on node N-B. I am not surprised if user B yells at the cloud.</p>
<p>That is being said I do not think Intel would take either approach. Instead, <span style="color:#339966;">a VM-based approach might be used, where SGX applications from the same user run within the same VM and different users have different VMs.</span> We can then achieve load balancing easily by assigning a similar number of VMs to each node. This approach is technically doable since we have seen SGX support for KVM [7] and nodes within Intel SGX card support KVM too. It is also possible that Clear Linux [8] will be used to reduce the overhead of VM by using KVM-based containters. <span style="color:#339966;">The only question is if VM or container is enough to isolate potential attacks from other cloud tenants, e.g., cache-based attacks, and defend against attacks from OS and hypervisors, e.g., control-channel attacks.</span></p>
<p><strong>5. Conclusion</strong></p>
<p>This post tries to speculate what Intel SGX card would look like and how it would be used within a cloud environment. I have no doubt that some of the speculations could be totally wrong once we are able to see the real product. Nevertheless, I hope this post could shed some light on this new security product and what could/should be done and what is still missing. All opinions are my own.</p>
<p><strong>References:</strong></p>
<p>[1] <a href="https://itpeernetwork.intel.com/sgx-data-protection-cloud-platforms/" target="_blank" rel="noopener noreferrer">https://itpeernetwork.intel.com/sgx-data-protection-cloud-platforms/</a><br />
[2] <a href="https://newsroom.intel.com/news/rsa-2019-intel-partner-ecosystem-offer-new-silicon-enabled-security-solutions/" target="_blank" rel="noopener noreferrer">https://newsroom.intel.com/news/rsa-2019-intel-partner-ecosystem-offer-new-silicon-enabled-security-solutions/</a><br />
[3] <a href="https://www.intel.com/content/www/us/en/products/servers/accelerators.html" target="_blank" rel="noopener noreferrer">https://www.intel.com/content/www/us/en/products/servers/accelerators.html</a><br />
[4] <a href="https://www.intel.com/content/dam/support/us/en/documents/server-products/server-accessories/VCA_Spec_HW_Users_Guide.pdf" target="_blank" rel="noopener noreferrer">https://www.intel.com/content/dam/support/us/en/documents/server-products/server-accessories/VCA_Spec_HW_Users_Guide.pdf</a><br />
[5] <a href="https://www.intel.com/content/dam/support/us/en/documents/server-products/server-accessories/VCA_SoftwareUserGuide.pdf" target="_blank" rel="noopener noreferrer">https://www.intel.com/content/dam/support/us/en/documents/server-products/server-accessories/VCA_SoftwareUserGuide.pdf</a><br />
[6] <a href="https://www.pcgamer.com/asus-has-a-motherboard-that-supports-up-to-19-gpus/" target="_blank" rel="noopener noreferrer">https://www.pcgamer.com/asus-has-a-motherboard-that-supports-up-to-19-gpus/</a><br />
[7] <a href="https://github.com/intel/kvm-sgx" target="_blank" rel="noopener noreferrer">https://github.com/intel/kvm-sgx</a><br />
[8] <a href="https://clearlinux.org/" target="_blank" rel="noopener noreferrer">https://clearlinux.org/</a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/category/computer-security/" rel="category tag">Security</a>					</span>
					<span class="meta-sep">|</span>
				
								<span class="tag-links">
					<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="https://davejingtian.org/tag/enclave/" rel="tag">enclave</a>, <a href="https://davejingtian.org/tag/epc/" rel="tag">EPC</a>, <a href="https://davejingtian.org/tag/intel/" rel="tag">intel</a>, <a href="https://davejingtian.org/tag/kvm/" rel="tag">kvm</a>, <a href="https://davejingtian.org/tag/sgx/" rel="tag">sgx</a>, <a href="https://davejingtian.org/tag/vca/" rel="tag">vca</a>				</span>
				<span class="meta-sep">|</span>
				
				<span class="comments-link"><a href="https://davejingtian.org/2019/03/25/speculations-on-intel-sgx-card/#respond">Leave a comment</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2526 -->

		
	

	
			<div id="post-2524" class="post-2524 post type-post status-publish format-standard hentry category-os category-computer-security tag-aarch64 tag-kernel tag-linux tag-syscall tag-x86_64">
			<h2 class="entry-title"><a href="https://davejingtian.org/2019/02/25/syscall-hijacking-in-2019/" rel="bookmark">Syscall hijacking in&nbsp;2019</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2019/02/25/syscall-hijacking-in-2019/" title="12:58 pm" rel="bookmark"><span class="entry-date">February 25, 2019</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				<p><span style="color:#808080;"><em><strong>Whether you need to implement a kernel rootkit or inspect syscalls for intrusion detection, in a lot of cases, you might need to hijack syscall in a kernel module. This post summorizes detailed procedures and provides a working example for both x86_64 and aarch64 architectures on recent kernel versions. All the code can be found at [1]. Happy hacking~</strong></em></span></p>
<p><strong>1. Syscall hijacking</strong></p>
<p>There are different ways to hijack syscall as summerized by [3]. The essense is to modify the <span style="color:#3366ff;">sys_call_table</span> within the kernel to overwrite the original address of certain syscall to be the one implemented by yourself. Here we use <span style="color:#3366ff;">kallsyms_lookup_name</span> to find the location of <span style="color:#3366ff;">sys_call_table</span>. However, 2 more things (or maybe 3 depending on the architecture and we will talk about that later) need to be considered. First, is the page of <span style="color:#3366ff;">sys_call_table</span> writable? Recent kernels have enforced read-only (RO) on text pages. So we need to make the page writable again (RW) in our kernel module. Second, SMP environment require us to synchronize the <span style="color:#3366ff;">sys_call_table</span> modification with all cores. This can be achieved by disabling preemption.</p>
<p><strong>2. Hijacking read syscall</strong></p>
<p>Once we hijack a certain syscall, we are able to see all the parameters from the user space. For example, we are able to see the file discripter (FD), user buffer, and number of bytes (count) within the <span style="color:#3366ff;">read</span> syscall. The real meat of syscall hijacking comes from what we could do using these parameters. As a proof-of-concept (PoC), we trace back the file name from FD and prevent users from reading the specific file by returning something else. In our implementations, we stop users from reading the README.md file (yup) and return bunch of 7s. The good news is we limit our target process to be the testing procedure instead of any process. Since syscall happens within the process context, &#8220;current&#8221; is always available. Accordingly, intrusion detection, system profiling, and etc are made possible thanks to different syscall parameters.</p>
<p><strong>3. Architecture difference</strong></p>
<p>Architecture makes a difference. Intel has a control bit within <span style="color:#3366ff;">CR0</span> to write-protect the read-only memory on x86_64. As a result, besides adding the W permission to the <span style="color:#3366ff;">sys_call_table</span> page, we also need to disable the write protection within CR0. ARM, on the other hand, does not have this constraint. On the aarch64 board with kernel 4.4 that I used, the text page also allows for write.</p>
<p>Nevertheless, in case of page write protection, we will have to need to implemement <span style="color:#3366ff;">set_memory_rw</span> and <span style="color:#3366ff;">set_memory_ro</span> (for recovery) by ourselves, because none of these functions is exported to kernel modules [3]. Essentially, we need to call <span style="color:#3366ff;">apply_to_page_range</span> and implement <span style="color:#3366ff;">flash_tlb_kernel_range</span> within our kernel module. This also reminds me a potential bug within the current x86_64 implementation, where a TLB flush should be needed after we update the PTE to synchronize other CPU cores by triggering IPIs.</p>
<p><strong>References:</strong></p>
<p>[1] <a href="https://github.com/daveti/syscallh" target="_blank" rel="noopener noreferrer">https://github.com/daveti/syscallh</a><br />
[2] <a href="https://blog.trailofbits.com/2019/01/17/how-to-write-a-rootkit-without-really-trying/" target="_blank" rel="noopener noreferrer">https://blog.trailofbits.com/2019/01/17/how-to-write-a-rootkit-without-really-trying/</a><br />
[3] <a href="https://lxr.missinglinkelectronics.com/linux/arch/arm64/mm/pageattr.c" target="_blank" rel="noopener noreferrer">https://lxr.missinglinkelectronics.com/linux/arch/arm64/mm/pageattr.c</a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/tag/os/" rel="category tag">OS</a>, <a href="https://davejingtian.org/category/computer-security/" rel="category tag">Security</a>					</span>
					<span class="meta-sep">|</span>
				
								<span class="tag-links">
					<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="https://davejingtian.org/tag/aarch64/" rel="tag">aarch64</a>, <a href="https://davejingtian.org/tag/kernel/" rel="tag">kernel</a>, <a href="https://davejingtian.org/tag/linux/" rel="tag">Linux</a>, <a href="https://davejingtian.org/tag/syscall/" rel="tag">syscall</a>, <a href="https://davejingtian.org/tag/x86_64/" rel="tag">x86_64</a>				</span>
				<span class="meta-sep">|</span>
				
				<span class="comments-link"><a href="https://davejingtian.org/2019/02/25/syscall-hijacking-in-2019/#comments">1 Comment</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2524 -->

		
	

	
			<div id="post-2514" class="post-2514 post type-post status-publish format-standard hentry category-embedded-system category-gpu category-os tag-jetpack tag-jetson tag-kernel tag-l4t tag-linux tag-nvidia tag-tegra tag-tx1">
			<h2 class="entry-title"><a href="https://davejingtian.org/2018/12/31/kernel-build-on-nvidia-jetson-tx1/" rel="bookmark">Kernel build on Nvidia Jetson&nbsp;TX1</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="https://davejingtian.org/2018/12/31/kernel-build-on-nvidia-jetson-tx1/" title="8:47 pm" rel="bookmark"><span class="entry-date">December 31, 2018</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="https://davejingtian.org/author/daveti/" title="View all posts by daveti">daveti</a></span>			</div><!-- .entry-meta -->

					<div class="entry-content">
				<p><span style="color:#808080;"><em><strong>This post introduces native Linux kernel built on the Nvidia Jetson TX1 dev board. The scripts are based on the jetsonhacks/buildJetsonTX1Kernel tools. Our target is JetPack 3.3 (the latest SDK supporting TX1 by the time of writing). All the scripts are available at [2]. Have fun~</strong></em></span></p>
<p><strong>1. Kernel build on TX1</strong></p>
<p>Nvidia devtalk has some general information about kernel build for TX1 [3], including both native build and cross compile (e.g., from a TFTP server). Here we focus on the native build. The procedure roughly follows a) installing dependencies, b) downloading the kernel src, c) generating config, d) making build, and e) installing the new kernel image.</p>
<p>Unlike a typical kernel build on x86-64 architecture, the most confusing part would be to figure out the right kernel version supported by the board. TX1 uses Nvidia L4T [5], which is a customized kernel for the Tegra SoC. Depending on the JetPack version running on your TX1 board, different L4T version is needed. As you can tell, there are a lot of prepairations needed to be done before we could kick off the build.</p>
<p><strong>2. buildJetsonTX1Kernel</strong></p>
<p>JetsonHacks provides a bunch of scripts to ease and automate differen steps mentioned above, called buildJetsonTX1Kernel [1]. By detecting the tegra chip id (sysfs) and tegra release note (/etc), these scripts can figure out the model of the board (e.g., TX1) and the version of JetPack installed (e.g., 3.2), thus download the right version of L4T kernel source. Please refer to [4] for a detailed usage of these scripts.</p>
<p><strong>3. One-click build</strong></p>
<p>The buildJetsonTX1Kernel scripts are great and useful, but somehow I realized that my TX1 setup was different and I needed some customizations to make my life (hopefully yours too) easier [2]. The first issue was the usage of JetPack 3.3. I have submitted a patch to JetsonHacks for JetsonUtilities to correctly detect this latest JetPack version supported by TX1. Unfortunately, buildJetsonTX1Kernel scripts still only support up to JetPack 3.2. Things get more complicated when both JetPack 3.2 and 3.3 use the same L4T kernel version.</p>
<p>The original scripts assume the usage of eMMC to hold all the kernel build artifacts, which does not hold in my TX1 environment where a 64G SD card is mounted. Accordingly, I have updated all the scripts to use my SD card instead of the default /usr/src/ directory.</p>
<p>I have also created a one-click build script (<span style="color:#3366ff;">kbuild.sh</span>) to automate the whole process within one script. Simply running ./kbuild.sh would generate a new kernel image ready to reboot. I have also replaced xconfig with menuconfig since I use SSH to connect with TX1. A simple hello world kernel module is also included as a starting point for module development.</p>
<p><strong>References:</strong></p>
<p>[1] <a href="https://github.com/jetsonhacks/buildJetsonTX1Kernel" target="_blank" rel="noopener">https://github.com/jetsonhacks/buildJetsonTX1Kernel</a><br />
[2] <a href="https://github.com/daveti/buildJetsonTX1Kernel" target="_blank" rel="noopener">https://github.com/daveti/buildJetsonTX1Kernel</a><br />
[3] <a href="https://devtalk.nvidia.com/default/topic/762653/-howto-build-own-kernel-for-jetson-tk1/" target="_blank" rel="noopener">https://devtalk.nvidia.com/default/topic/762653/-howto-build-own-kernel-for-jetson-tk1/</a><br />
[4] <a href="https://www.jetsonhacks.com/2018/04/21/build-kernel-and-modules-nvidia-jetson-tx1/" target="_blank" rel="noopener">https://www.jetsonhacks.com/2018/04/21/build-kernel-and-modules-nvidia-jetson-tx1/</a><br />
[5] <a href="https://developer.nvidia.com/embedded/linux-tegra" target="_blank" rel="noopener">https://developer.nvidia.com/embedded/linux-tegra</a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
													<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="https://davejingtian.org/category/embedded-system/" rel="category tag">Embedded System</a>, <a href="https://davejingtian.org/tag/gpu/" rel="category tag">gpu</a>, <a href="https://davejingtian.org/tag/os/" rel="category tag">OS</a>					</span>
					<span class="meta-sep">|</span>
				
								<span class="tag-links">
					<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="https://davejingtian.org/tag/jetpack/" rel="tag">jetpack</a>, <a href="https://davejingtian.org/tag/jetson/" rel="tag">jetson</a>, <a href="https://davejingtian.org/tag/kernel/" rel="tag">kernel</a>, <a href="https://davejingtian.org/tag/l4t/" rel="tag">l4t</a>, <a href="https://davejingtian.org/tag/linux/" rel="tag">Linux</a>, <a href="https://davejingtian.org/tag/nvidia/" rel="tag">nvidia</a>, <a href="https://davejingtian.org/tag/tegra/" rel="tag">tegra</a>, <a href="https://davejingtian.org/tag/tx1/" rel="tag">tx1</a>				</span>
				<span class="meta-sep">|</span>
				
				<span class="comments-link"><a href="https://davejingtian.org/2018/12/31/kernel-build-on-nvidia-jetson-tx1/#respond">Leave a comment</a></span>

							</div><!-- .entry-utility -->
		</div><!-- #post-2514 -->

		
	

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="https://davejingtian.org/page/2/" ><span class="meta-nav">&larr;</span> Older posts</a></div>
					<div class="nav-next"></div>
				</div><!-- #nav-below -->
			</div><!-- #content -->
		</div><!-- #container -->


		<div id="primary" class="widget-area" role="complementary">
						<ul class="xoxo">

<li id="author_grid-2" class="widget-container widget_author_grid"><h3 class="widget-title"></h3><ul><li><a href="https://davejingtian.org/author/daveti/"> <img alt='' src='https://2.gravatar.com/avatar/bbf8cd6ac9117bc4cf16728bda119dde2955b62cb9e74e244a60941a6a6a483d?s=96&#038;d=identicon&#038;r=G' srcset='https://2.gravatar.com/avatar/bbf8cd6ac9117bc4cf16728bda119dde2955b62cb9e74e244a60941a6a6a483d?s=96&#038;d=identicon&#038;r=G 1x, https://2.gravatar.com/avatar/bbf8cd6ac9117bc4cf16728bda119dde2955b62cb9e74e244a60941a6a6a483d?s=144&#038;d=identicon&#038;r=G 1.5x, https://2.gravatar.com/avatar/bbf8cd6ac9117bc4cf16728bda119dde2955b62cb9e74e244a60941a6a6a483d?s=192&#038;d=identicon&#038;r=G 2x, https://2.gravatar.com/avatar/bbf8cd6ac9117bc4cf16728bda119dde2955b62cb9e74e244a60941a6a6a483d?s=288&#038;d=identicon&#038;r=G 3x, https://2.gravatar.com/avatar/bbf8cd6ac9117bc4cf16728bda119dde2955b62cb9e74e244a60941a6a6a483d?s=384&#038;d=identicon&#038;r=G 4x' class='avatar avatar-96' height='96' width='96' loading='lazy' decoding='async' /></a></li></ul></li><li id="text-3" class="widget-container widget_text">			<div class="textwidget"><p>I am Dave Jing Tian, an Assistant Professor in the Department of Computer Science at Purdue University working on system security. My research involves embedded systems, operating systems, trusted and confidential computing, and hardware security and trust. All opinions are my own.<br />
Shoot me:<br />
root@davejingtian.org</p>
</div>
		</li><li id="categories-2" class="widget-container widget_categories"><h3 class="widget-title">Categories</h3>
			<ul>
					<li class="cat-item cat-item-2332446"><a href="https://davejingtian.org/category/aiml/">AI/ML</a>
</li>
	<li class="cat-item cat-item-33525"><a href="https://davejingtian.org/category/conference/">Conference</a>
</li>
	<li class="cat-item cat-item-1981"><a href="https://davejingtian.org/category/tools/">Dave&#039;s Tools</a>
</li>
	<li class="cat-item cat-item-10688"><a href="https://davejingtian.org/category/embedded-system/">Embedded System</a>
</li>
	<li class="cat-item cat-item-112287"><a href="https://davejingtian.org/category/gpu/">gpu</a>
</li>
	<li class="cat-item cat-item-191659197"><a href="https://davejingtian.org/category/h-248megacoegcp/">H.248/MEGACO/EGCP</a>
</li>
	<li class="cat-item cat-item-191659198"><a href="https://davejingtian.org/category/ide_make/">IDE_Make</a>
</li>
	<li class="cat-item cat-item-60374460"><a href="https://davejingtian.org/category/life-prose/">Life Prose</a>
</li>
	<li class="cat-item cat-item-126339"><a href="https://davejingtian.org/category/linux-distro/">Linux Distro</a>
</li>
	<li class="cat-item cat-item-43678754"><a href="https://davejingtian.org/category/music-prose/">Music Prose</a>
</li>
	<li class="cat-item cat-item-3385"><a href="https://davejingtian.org/category/network/">Network</a>
</li>
	<li class="cat-item cat-item-3383"><a href="https://davejingtian.org/category/os/">OS</a>
</li>
	<li class="cat-item cat-item-196"><a href="https://davejingtian.org/category/programming/">Programming</a>
</li>
	<li class="cat-item cat-item-8159"><a href="https://davejingtian.org/category/computer-security/">Security</a>
</li>
	<li class="cat-item cat-item-3117664"><a href="https://davejingtian.org/category/static-code-analysis/">Static Code Analysis</a>
</li>
	<li class="cat-item cat-item-9565"><a href="https://davejingtian.org/category/compiler/">Stuff about Compiler</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://davejingtian.org/category/uncategorized/">Uncategorized</a>
</li>
			</ul>

			</li><li id="linkcat-669142488" class="widget-container widget_links"><h3 class="widget-title">Resource</h3>
	<ul class='xoxo blogroll'>
<li><a href="https://atcommands.org" title="AT commands within Android ecosystems">AT Commands</a></li>
<li><a href="https://www.cerias.purdue.edu/" title="Purdue CERIAS">CERIAS</a></li>
<li><a href="http://fics-institute.org/" title="Florida Institute of Cybersecurity">FICS Research</a></li>
<li><a href="https://firmware-analysis.org/" title="Firmware Analysis">Firmware Analysis</a></li>
<li><a href="http://linuxprovenance.org/" title="The official provenance website for Linux">Linux Provenance</a></li>
<li><a href="https://perisec.org/" rel="me noopener" title="Peripheral Security" target="_blank">Peripheral Security</a></li>
<li><a href="https://pursec.cs.purdue.edu" title="PurSec Lab @ Purdue CS">PurSec Lab</a></li>

	</ul>
</li>
<li id="wp_tag_cloud-2" class="widget-container wp_widget_tag_cloud"><h3 class="widget-title">Tags</h3><ul class='wp-tag-cloud' role='list'>
	<li><a href="https://davejingtian.org/tag/abnf/" class="tag-cloud-link tag-link-4214999 tag-link-position-1" style="font-size: 8pt;" aria-label="ABNF (2 items)">ABNF</a></li>
	<li><a href="https://davejingtian.org/tag/agile/" class="tag-cloud-link tag-link-11287 tag-link-position-2" style="font-size: 9.3884297520661pt;" aria-label="agile (3 items)">agile</a></li>
	<li><a href="https://davejingtian.org/tag/aiml/" class="tag-cloud-link tag-link-2332446 tag-link-position-3" style="font-size: 8pt;" aria-label="AI/ML (2 items)">AI/ML</a></li>
	<li><a href="https://davejingtian.org/tag/alcatel-lucent/" class="tag-cloud-link tag-link-806385 tag-link-position-4" style="font-size: 8pt;" aria-label="Alcatel-Lucent (2 items)">Alcatel-Lucent</a></li>
	<li><a href="https://davejingtian.org/tag/android/" class="tag-cloud-link tag-link-641922 tag-link-position-5" style="font-size: 8pt;" aria-label="android (2 items)">android</a></li>
	<li><a href="https://davejingtian.org/tag/arp/" class="tag-cloud-link tag-link-973674 tag-link-position-6" style="font-size: 9.3884297520661pt;" aria-label="arp (3 items)">arp</a></li>
	<li><a href="https://davejingtian.org/tag/asn1c/" class="tag-cloud-link tag-link-191659201 tag-link-position-7" style="font-size: 9.3884297520661pt;" aria-label="asn1c (3 items)">asn1c</a></li>
	<li><a href="https://davejingtian.org/tag/assembly/" class="tag-cloud-link tag-link-6595 tag-link-position-8" style="font-size: 11.471074380165pt;" aria-label="assembly (5 items)">assembly</a></li>
	<li><a href="https://davejingtian.org/tag/bash/" class="tag-cloud-link tag-link-2674 tag-link-position-9" style="font-size: 9.3884297520661pt;" aria-label="bash (3 items)">bash</a></li>
	<li><a href="https://davejingtian.org/tag/ber/" class="tag-cloud-link tag-link-113847 tag-link-position-10" style="font-size: 8pt;" aria-label="ber (2 items)">ber</a></li>
	<li><a href="https://davejingtian.org/tag/bison/" class="tag-cloud-link tag-link-279238 tag-link-position-11" style="font-size: 11.471074380165pt;" aria-label="bison (5 items)">bison</a></li>
	<li><a href="https://davejingtian.org/tag/bnf/" class="tag-cloud-link tag-link-762999 tag-link-position-12" style="font-size: 8pt;" aria-label="BNF (2 items)">BNF</a></li>
	<li><a href="https://davejingtian.org/tag/build/" class="tag-cloud-link tag-link-21447 tag-link-position-13" style="font-size: 8pt;" aria-label="build (2 items)">build</a></li>
	<li><a href="https://davejingtian.org/tag/c/" class="tag-cloud-link tag-link-2426 tag-link-position-14" style="font-size: 16.330578512397pt;" aria-label="C (15 items)">C</a></li>
	<li><a href="https://davejingtian.org/tag/centos/" class="tag-cloud-link tag-link-134600 tag-link-position-15" style="font-size: 10.545454545455pt;" aria-label="CentOS (4 items)">CentOS</a></li>
	<li><a href="https://davejingtian.org/tag/cis122/" class="tag-cloud-link tag-link-191659203 tag-link-position-16" style="font-size: 9.3884297520661pt;" aria-label="CIS122 (3 items)">CIS122</a></li>
	<li><a href="https://davejingtian.org/tag/coverity/" class="tag-cloud-link tag-link-1510180 tag-link-position-17" style="font-size: 12.280991735537pt;" aria-label="Coverity (6 items)">Coverity</a></li>
	<li><a href="https://davejingtian.org/tag/crypto/" class="tag-cloud-link tag-link-5324 tag-link-position-18" style="font-size: 10.545454545455pt;" aria-label="crypto (4 items)">crypto</a></li>
	<li><a href="https://davejingtian.org/tag/csv/" class="tag-cloud-link tag-link-602178 tag-link-position-19" style="font-size: 8pt;" aria-label="csv (2 items)">csv</a></li>
	<li><a href="https://davejingtian.org/tag/cuda/" class="tag-cloud-link tag-link-573568 tag-link-position-20" style="font-size: 9.3884297520661pt;" aria-label="cuda (3 items)">cuda</a></li>
	<li><a href="https://davejingtian.org/tag/dca/" class="tag-cloud-link tag-link-633338 tag-link-position-21" style="font-size: 11.471074380165pt;" aria-label="DCA (5 items)">DCA</a></li>
	<li><a href="https://davejingtian.org/tag/ddclient/" class="tag-cloud-link tag-link-2488390 tag-link-position-22" style="font-size: 8pt;" aria-label="ddclient (2 items)">ddclient</a></li>
	<li><a href="https://davejingtian.org/tag/debugfs/" class="tag-cloud-link tag-link-5885119 tag-link-position-23" style="font-size: 8pt;" aria-label="debugfs (2 items)">debugfs</a></li>
	<li><a href="https://davejingtian.org/tag/dh/" class="tag-cloud-link tag-link-312749 tag-link-position-24" style="font-size: 9.3884297520661pt;" aria-label="DH (3 items)">DH</a></li>
	<li><a href="https://davejingtian.org/tag/diffie-hellman/" class="tag-cloud-link tag-link-913450 tag-link-position-25" style="font-size: 8pt;" aria-label="Diffie-Hellman (2 items)">Diffie-Hellman</a></li>
	<li><a href="https://davejingtian.org/tag/drd/" class="tag-cloud-link tag-link-4257107 tag-link-position-26" style="font-size: 8pt;" aria-label="drd (2 items)">drd</a></li>
	<li><a href="https://davejingtian.org/tag/drig/" class="tag-cloud-link tag-link-61435403 tag-link-position-27" style="font-size: 8pt;" aria-label="drig (2 items)">drig</a></li>
	<li><a href="https://davejingtian.org/tag/elixir/" class="tag-cloud-link tag-link-722764 tag-link-position-28" style="font-size: 9.3884297520661pt;" aria-label="elixir (3 items)">elixir</a></li>
	<li><a href="https://davejingtian.org/tag/fedora/" class="tag-cloud-link tag-link-611 tag-link-position-29" style="font-size: 16.330578512397pt;" aria-label="fedora (15 items)">fedora</a></li>
	<li><a href="https://davejingtian.org/tag/fedup/" class="tag-cloud-link tag-link-2040113 tag-link-position-30" style="font-size: 9.3884297520661pt;" aria-label="fedup (3 items)">fedup</a></li>
	<li><a href="https://davejingtian.org/tag/flex/" class="tag-cloud-link tag-link-5429 tag-link-position-31" style="font-size: 11.471074380165pt;" aria-label="flex (5 items)">flex</a></li>
	<li><a href="https://davejingtian.org/tag/fsck/" class="tag-cloud-link tag-link-885635 tag-link-position-32" style="font-size: 8pt;" aria-label="fsck (2 items)">fsck</a></li>
	<li><a href="https://davejingtian.org/tag/gcc/" class="tag-cloud-link tag-link-185469 tag-link-position-33" style="font-size: 14.479338842975pt;" aria-label="gcc (10 items)">gcc</a></li>
	<li><a href="https://davejingtian.org/tag/gdb/" class="tag-cloud-link tag-link-320749 tag-link-position-34" style="font-size: 9.3884297520661pt;" aria-label="gdb (3 items)">gdb</a></li>
	<li><a href="https://davejingtian.org/tag/gfw/" class="tag-cloud-link tag-link-9119 tag-link-position-35" style="font-size: 8pt;" aria-label="GFW (2 items)">GFW</a></li>
	<li><a href="https://davejingtian.org/tag/git/" class="tag-cloud-link tag-link-209196 tag-link-position-36" style="font-size: 8pt;" aria-label="git (2 items)">git</a></li>
	<li><a href="https://davejingtian.org/tag/github/" class="tag-cloud-link tag-link-5603054 tag-link-position-37" style="font-size: 8pt;" aria-label="github (2 items)">github</a></li>
	<li><a href="https://davejingtian.org/tag/gnome/" class="tag-cloud-link tag-link-870 tag-link-position-38" style="font-size: 8pt;" aria-label="gnome (2 items)">gnome</a></li>
	<li><a href="https://davejingtian.org/tag/gprof/" class="tag-cloud-link tag-link-4862128 tag-link-position-39" style="font-size: 8pt;" aria-label="gprof (2 items)">gprof</a></li>
	<li><a href="https://davejingtian.org/tag/gpu/" class="tag-cloud-link tag-link-112287 tag-link-position-40" style="font-size: 9.3884297520661pt;" aria-label="gpu (3 items)">gpu</a></li>
	<li><a href="https://davejingtian.org/tag/guitar/" class="tag-cloud-link tag-link-5799 tag-link-position-41" style="font-size: 12.859504132231pt;" aria-label="guitar (7 items)">guitar</a></li>
	<li><a href="https://davejingtian.org/tag/gumstix/" class="tag-cloud-link tag-link-4013384 tag-link-position-42" style="font-size: 10.545454545455pt;" aria-label="gumstix (4 items)">gumstix</a></li>
	<li><a href="https://davejingtian.org/tag/helgrind/" class="tag-cloud-link tag-link-14355738 tag-link-position-43" style="font-size: 8pt;" aria-label="helgrind (2 items)">helgrind</a></li>
	<li><a href="https://davejingtian.org/tag/intel/" class="tag-cloud-link tag-link-12068 tag-link-position-44" style="font-size: 11.471074380165pt;" aria-label="intel (5 items)">intel</a></li>
	<li><a href="https://davejingtian.org/tag/itevad/" class="tag-cloud-link tag-link-191659210 tag-link-position-45" style="font-size: 12.859504132231pt;" aria-label="itevad (7 items)">itevad</a></li>
	<li><a href="https://davejingtian.org/tag/java/" class="tag-cloud-link tag-link-1017 tag-link-position-46" style="font-size: 14.479338842975pt;" aria-label="Java (10 items)">Java</a></li>
	<li><a href="https://davejingtian.org/tag/jmgsim/" class="tag-cloud-link tag-link-191659211 tag-link-position-47" style="font-size: 8pt;" aria-label="jmgsim (2 items)">jmgsim</a></li>
	<li><a href="https://davejingtian.org/tag/jvm/" class="tag-cloud-link tag-link-461295 tag-link-position-48" style="font-size: 8pt;" aria-label="JVM (2 items)">JVM</a></li>
	<li><a href="https://davejingtian.org/tag/kenai/" class="tag-cloud-link tag-link-1395259 tag-link-position-49" style="font-size: 10.545454545455pt;" aria-label="kenai (4 items)">kenai</a></li>
	<li><a href="https://davejingtian.org/tag/kernel/" class="tag-cloud-link tag-link-2428 tag-link-position-50" style="font-size: 20.148760330579pt;" aria-label="kernel (33 items)">kernel</a></li>
	<li><a href="https://davejingtian.org/tag/kill/" class="tag-cloud-link tag-link-137972 tag-link-position-51" style="font-size: 8pt;" aria-label="kill (2 items)">kill</a></li>
	<li><a href="https://davejingtian.org/tag/ksh/" class="tag-cloud-link tag-link-1607403 tag-link-position-52" style="font-size: 13.438016528926pt;" aria-label="ksh (8 items)">ksh</a></li>
	<li><a href="https://davejingtian.org/tag/kvm/" class="tag-cloud-link tag-link-75342 tag-link-position-53" style="font-size: 11.471074380165pt;" aria-label="kvm (5 items)">kvm</a></li>
	<li><a href="https://davejingtian.org/tag/ld/" class="tag-cloud-link tag-link-101389 tag-link-position-54" style="font-size: 9.3884297520661pt;" aria-label="ld (3 items)">ld</a></li>
	<li><a href="https://davejingtian.org/tag/linux/" class="tag-cloud-link tag-link-610 tag-link-position-55" style="font-size: 22pt;" aria-label="Linux (48 items)">Linux</a></li>
	<li><a href="https://davejingtian.org/tag/list/" class="tag-cloud-link tag-link-14608 tag-link-position-56" style="font-size: 8pt;" aria-label="list (2 items)">list</a></li>
	<li><a href="https://davejingtian.org/tag/netbeans/" class="tag-cloud-link tag-link-12962 tag-link-position-57" style="font-size: 12.280991735537pt;" aria-label="netbeans (6 items)">netbeans</a></li>
	<li><a href="https://davejingtian.org/tag/netlink/" class="tag-cloud-link tag-link-3228881 tag-link-position-58" style="font-size: 9.3884297520661pt;" aria-label="netlink (3 items)">netlink</a></li>
	<li><a href="https://davejingtian.org/tag/nvidia/" class="tag-cloud-link tag-link-35186 tag-link-position-59" style="font-size: 11.471074380165pt;" aria-label="nvidia (5 items)">nvidia</a></li>
	<li><a href="https://davejingtian.org/tag/os/" class="tag-cloud-link tag-link-3383 tag-link-position-60" style="font-size: 10.545454545455pt;" aria-label="OS (4 items)">OS</a></li>
	<li><a href="https://davejingtian.org/tag/overo/" class="tag-cloud-link tag-link-1904039 tag-link-position-61" style="font-size: 9.3884297520661pt;" aria-label="overo (3 items)">overo</a></li>
	<li><a href="https://davejingtian.org/tag/python/" class="tag-cloud-link tag-link-832 tag-link-position-62" style="font-size: 17.256198347107pt;" aria-label="Python (18 items)">Python</a></li>
	<li><a href="https://davejingtian.org/tag/relay/" class="tag-cloud-link tag-link-447315 tag-link-position-63" style="font-size: 9.3884297520661pt;" aria-label="relay (3 items)">relay</a></li>
	<li><a href="https://davejingtian.org/tag/security/" class="tag-cloud-link tag-link-801 tag-link-position-64" style="font-size: 12.859504132231pt;" aria-label="security (7 items)">security</a></li>
	<li><a href="https://davejingtian.org/tag/selinux/" class="tag-cloud-link tag-link-1093416 tag-link-position-65" style="font-size: 9.3884297520661pt;" aria-label="selinux (3 items)">selinux</a></li>
	<li><a href="https://davejingtian.org/tag/sgx/" class="tag-cloud-link tag-link-762865 tag-link-position-66" style="font-size: 10.545454545455pt;" aria-label="sgx (4 items)">sgx</a></li>
	<li><a href="https://davejingtian.org/tag/socket/" class="tag-cloud-link tag-link-1034664 tag-link-position-67" style="font-size: 11.471074380165pt;" aria-label="socket (5 items)">socket</a></li>
	<li><a href="https://davejingtian.org/tag/ssh/" class="tag-cloud-link tag-link-49320 tag-link-position-68" style="font-size: 11.471074380165pt;" aria-label="ssh (5 items)">ssh</a></li>
	<li><a href="https://davejingtian.org/tag/ubuntu/" class="tag-cloud-link tag-link-255 tag-link-position-69" style="font-size: 11.471074380165pt;" aria-label="Ubuntu (5 items)">Ubuntu</a></li>
	<li><a href="https://davejingtian.org/tag/uo/" class="tag-cloud-link tag-link-102378 tag-link-position-70" style="font-size: 12.280991735537pt;" aria-label="UO (6 items)">UO</a></li>
	<li><a href="https://davejingtian.org/tag/usb/" class="tag-cloud-link tag-link-57231 tag-link-position-71" style="font-size: 11.471074380165pt;" aria-label="USB (5 items)">USB</a></li>
	<li><a href="https://davejingtian.org/tag/valgrind/" class="tag-cloud-link tag-link-1444644 tag-link-position-72" style="font-size: 14.01652892562pt;" aria-label="valgrind (9 items)">valgrind</a></li>
	<li><a href="https://davejingtian.org/tag/x86/" class="tag-cloud-link tag-link-868553 tag-link-position-73" style="font-size: 13.438016528926pt;" aria-label="x86 (8 items)">x86</a></li>
	<li><a href="https://davejingtian.org/tag/x86_64/" class="tag-cloud-link tag-link-795156 tag-link-position-74" style="font-size: 10.545454545455pt;" aria-label="x86_64 (4 items)">x86_64</a></li>
	<li><a href="https://davejingtian.org/tag/yocto/" class="tag-cloud-link tag-link-40825849 tag-link-position-75" style="font-size: 9.3884297520661pt;" aria-label="yocto (3 items)">yocto</a></li>
</ul>
</li><li id="search-2" class="widget-container widget_search"><form role="search" method="get" id="searchform" class="searchform" action="https://davejingtian.org/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></li><li id="blog-stats-2" class="widget-container widget_blog-stats"><h3 class="widget-title">Blog Stats</h3>		<ul>
			<li>257,223 hits</li>
		</ul>
		</li><li id="text-7" class="widget-container widget_text">			<div class="textwidget"><p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons Licence" style="border-width:0;" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />All blogs on this website are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>
</div>
		</li><li id="text-4" class="widget-container widget_text">			<div class="textwidget"><p><!-- IPv6-test.com button BEGIN --><br />
<a href='http://ipv6-test.com/validate.php?url=referer'><img src='https://i0.wp.com/ipv6-test.com/button-ipv6-big.png' alt='ipv6 ready' title='ipv6 ready' border='0' /></a><br />
<!-- IPv6-test.com button END --></p>
</div>
		</li><li id="internet_defense_league_widget-2" class="widget-container widget_internet_defense_league_widget"><p><a href="https://www.internetdefenseleague.org/"><img src="https://www.internetdefenseleague.org/images/badges/final/side_bar_badge.png" alt="Member of The Internet Defense League" style="max-width: 100%; height: auto;" /></a></p></li><li id="text-6" class="widget-container widget_text">			<div class="textwidget"><p><a href="https://wikimediafoundation.org/wiki/Support_Wikipedia/en"><img border="0" alt="Support Wikipedia" src="https://upload.wikimedia.org/wikipedia/commons/d/d3/Fundraising_2009-square-share-en.png" /></a></p>
</div>
		</li><li id="text-9" class="widget-container widget_text">			<div class="textwidget"><a href="https://clustrmaps.com/site/19itl" title="Visit tracker"><img src="//www.clustrmaps.com/map_v2.png?d=7HmmezpzafkYjrDMcd_KfTj17Q-TFNcsIeRHP-dme58&amp;cl=ffffff"></a></div>
		</li>			</ul>
		</div><!-- #primary .widget-area -->

	</div><!-- #main -->

	<div id="footer" role="contentinfo">
		<div id="colophon">



			<div id="site-info">
				<a href="https://davejingtian.org/" title="davejingtian.org" rel="home">
					davejingtian.org				</a>
							</div><!-- #site-info -->

			<div id="site-generator">
								<a href="https://wordpress.com/?ref=footer_blog" rel="nofollow">Blog at WordPress.com.</a>
			</div><!-- #site-generator -->

		</div><!-- #colophon -->
	</div><!-- #footer -->

</div><!-- #wrapper -->

		<script type="text/javascript">
		var infiniteScroll = {"settings":{"id":"content","ajaxurl":"https:\/\/davejingtian.org\/?infinity=scrolling","type":"scroll","wrapper":true,"wrapper_class":"infinite-wrap","footer":"wrapper","click_handle":"1","text":"Older posts","totop":"Scroll back to top","currentday":"31.12.18","order":"DESC","scripts":[],"styles":[],"google_analytics":false,"offset":1,"history":{"host":"davejingtian.org","path":"\/page\/%d\/","use_trailing_slashes":true,"parameters":""},"query_args":{"error":"","m":"","p":0,"post_parent":"","subpost":"","subpost_id":"","attachment":"","attachment_id":0,"name":"","pagename":"","page_id":0,"second":"","minute":"","hour":"","day":0,"monthnum":0,"year":0,"w":0,"category_name":"","tag":"","cat":"","tag_id":"","author":"","author_name":"","feed":"","tb":"","paged":0,"meta_key":"","meta_value":"","preview":"","s":"","sentence":"","title":"","fields":"","menu_order":"","embed":"","category__in":[],"category__not_in":[],"category__and":[],"post__in":[],"post__not_in":[],"post_name__in":[],"tag__in":[],"tag__not_in":[],"tag__and":[],"tag_slug__in":[],"tag_slug__and":[],"post_parent__in":[],"post_parent__not_in":[],"author__in":[],"author__not_in":[],"search_columns":[],"lazy_load_term_meta":false,"posts_per_page":10,"ignore_sticky_posts":false,"suppress_filters":false,"cache_results":true,"update_post_term_cache":true,"update_menu_item_cache":false,"update_post_meta_cache":true,"post_type":"","nopaging":false,"comments_per_page":"50","no_found_rows":false,"order":"DESC"},"query_before":"2024-09-12 23:14:05","last_post_date":"2018-12-31 20:47:17","body_class":"infinite-scroll neverending","loading_text":"Loading new page","stats":"blog=14794791&v=wpcom&tz=-4&user_id=0&subd=daveti&x_pagetype=infinite"}};
		</script>
		<!--  -->
<script type="text/javascript" src="//0.gravatar.com/js/hovercards/hovercards.min.js?ver=202437b46853b388ab997de6bfa04c1e397b91783aa2d3e125eb7f62b2f41b95dd5e57" id="grofiles-cards-js"></script>
<script type="text/javascript" id="wpgroho-js-extra">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script crossorigin='anonymous' type='text/javascript'  src='https://s2.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1610363240i'></script>

	<script>
		// Initialize and attach hovercards to all gravatars
		( function() {
			function init() {
				if ( typeof Gravatar === 'undefined' ) {
					return;
				}

				if ( typeof Gravatar.init !== 'function' ) {
					return;
				}

				Gravatar.profile_cb = function ( hash, id ) {
					WPGroHo.syncProfileData( hash, id );
				};

				Gravatar.my_hash = WPGroHo.my_hash;
				Gravatar.init(
					'body',
					'#wp-admin-bar-my-account',
					{
						i18n: {
							'Edit your profile': 'Edit your profile',
							'View profile': 'View profile',
							'Sorry, we are unable to load this Gravatar profile.': 'Sorry, we are unable to load this Gravatar profile.',
							'Too Many Requests.': 'Too Many Requests.',
							'Internal Server Error.': 'Internal Server Error.',
						},
					}
				);
			}

			if ( document.readyState !== 'loading' ) {
				init();
			} else {
				document.addEventListener( 'DOMContentLoaded', init );
			}
		} )();
	</script>

		<div style="display:none">
	</div>
		<div id="infinite-footer">
			<div class="container">
				<div class="blog-info">
					<a id="infinity-blog-title" href="https://davejingtian.org/" rel="home">
						davejingtian.org					</a>
				</div>
				<div class="blog-credits">
					<a href="https://wordpress.com/?ref=footer_blog" rel="nofollow">Blog at WordPress.com.</a> 				</div>
			</div>
		</div><!-- #infinite-footer -->
			<div id="actionbar" style="display: none;"
			class="actnbr-pub-twentyten actnbr-has-follow">
		<ul>
								<li class="actnbr-btn actnbr-hidden">
								<a class="actnbr-action actnbr-actn-follow " href="">
			<svg class="gridicon" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path clip-rule="evenodd" d="m4 4.5h12v6.5h1.5v-6.5-1.5h-1.5-12-1.5v1.5 10.5c0 1.1046.89543 2 2 2h7v-1.5h-7c-.27614 0-.5-.2239-.5-.5zm10.5 2h-9v1.5h9zm-5 3h-4v1.5h4zm3.5 1.5h-1v1h1zm-1-1.5h-1.5v1.5 1 1.5h1.5 1 1.5v-1.5-1-1.5h-1.5zm-2.5 2.5h-4v1.5h4zm6.5 1.25h1.5v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25z"  fill-rule="evenodd"></path></svg>
			<span>Subscribe</span>
		</a>
		<a class="actnbr-action actnbr-actn-following  no-display" href="">
			<svg class="gridicon" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 4.5H4V15C4 15.2761 4.22386 15.5 4.5 15.5H11.5V17H4.5C3.39543 17 2.5 16.1046 2.5 15V4.5V3H4H16H17.5V4.5V12.5H16V4.5ZM5.5 6.5H14.5V8H5.5V6.5ZM5.5 9.5H9.5V11H5.5V9.5ZM12 11H13V12H12V11ZM10.5 9.5H12H13H14.5V11V12V13.5H13H12H10.5V12V11V9.5ZM5.5 12H9.5V13.5H5.5V12Z" fill="#008A20"></path><path class="following-icon-tick" d="M13.5 16L15.5 18L19 14.5" stroke="#008A20" stroke-width="1.5"></path></svg>
			<span>Subscribed</span>
		</a>
							<div class="actnbr-popover tip tip-top-left actnbr-notice" id="follow-bubble">
							<div class="tip-arrow"></div>
							<div class="tip-inner actnbr-follow-bubble">
															<ul>
											<li class="actnbr-sitename">
			<a href="https://davejingtian.org">
				<img alt='' src='https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=50&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' srcset='https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=50&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 1x, https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=75&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 1.5x, https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=100&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 2x, https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=150&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 3x, https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=200&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 4x' class='avatar avatar-50' height='50' width='50' />				davejingtian.org			</a>
		</li>
										<div class="actnbr-message no-display"></div>
									<form method="post" action="https://subscribe.wordpress.com" accept-charset="utf-8" style="display: none;">
																						<div class="actnbr-follow-count">Join 42 other subscribers</div>
																					<div>
										<input type="email" name="email" placeholder="Enter your email address" class="actnbr-email-field" aria-label="Enter your email address" />
										</div>
										<input type="hidden" name="action" value="subscribe" />
										<input type="hidden" name="blog_id" value="14794791" />
										<input type="hidden" name="source" value="https://davejingtian.org/" />
										<input type="hidden" name="sub-type" value="actionbar-follow" />
										<input type="hidden" id="_wpnonce" name="_wpnonce" value="7fc0633bca" />										<div class="actnbr-button-wrap">
											<button type="submit" value="Sign me up">
												Sign me up											</button>
										</div>
									</form>
									<li class="actnbr-login-nudge">
										<div>
											Already have a WordPress.com account? <a href="https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fdavejingtian.org%252F2023%252F04%252F09%252Fborland-turbo-c-3-0-on-macos%252F">Log in now.</a>										</div>
									</li>
								</ul>
															</div>
						</div>
					</li>
							<li class="actnbr-ellipsis actnbr-hidden">
				<svg class="gridicon gridicons-ellipsis" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M7 12c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm12-2c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm-7 0c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2z"/></g></svg>				<div class="actnbr-popover tip tip-top-left actnbr-more">
					<div class="tip-arrow"></div>
					<div class="tip-inner">
						<ul>
									<li class="actnbr-sitename">
			<a href="https://davejingtian.org">
				<img alt='' src='https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=50&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' srcset='https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=50&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 1x, https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=75&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 1.5x, https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=100&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 2x, https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=150&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 3x, https://secure.gravatar.com/blavatar/43a5e9caced992277c42ebe0cb2ad63fa18448bed63871077055c436d333a760?s=200&#038;d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png 4x' class='avatar avatar-50' height='50' width='50' />				davejingtian.org			</a>
		</li>
								<li class="actnbr-folded-customize">
								<a href="https://daveti.wordpress.com/wp-admin/customize.php?url=https%3A%2F%2Fdaveti.wordpress.com%2F">
									<svg class="gridicon gridicons-customize" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M2 6c0-1.505.78-3.08 2-4 0 .845.69 2 2 2 1.657 0 3 1.343 3 3 0 .386-.08.752-.212 1.09.74.594 1.476 1.19 2.19 1.81L8.9 11.98c-.62-.716-1.214-1.454-1.807-2.192C6.753 9.92 6.387 10 6 10c-2.21 0-4-1.79-4-4zm12.152 6.848l1.34-1.34c.607.304 1.283.492 2.008.492 2.485 0 4.5-2.015 4.5-4.5 0-.725-.188-1.4-.493-2.007L18 9l-2-2 3.507-3.507C18.9 3.188 18.225 3 17.5 3 15.015 3 13 5.015 13 7.5c0 .725.188 1.4.493 2.007L3 20l2 2 6.848-6.848c1.885 1.928 3.874 3.753 5.977 5.45l1.425 1.148 1.5-1.5-1.15-1.425c-1.695-2.103-3.52-4.092-5.448-5.977z"/></g></svg>									<span>Customize</span>
								</a>
							</li>
																<li class="actnbr-folded-follow">
												<a class="actnbr-action actnbr-actn-follow " href="">
			<svg class="gridicon" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path clip-rule="evenodd" d="m4 4.5h12v6.5h1.5v-6.5-1.5h-1.5-12-1.5v1.5 10.5c0 1.1046.89543 2 2 2h7v-1.5h-7c-.27614 0-.5-.2239-.5-.5zm10.5 2h-9v1.5h9zm-5 3h-4v1.5h4zm3.5 1.5h-1v1h1zm-1-1.5h-1.5v1.5 1 1.5h1.5 1 1.5v-1.5-1-1.5h-1.5zm-2.5 2.5h-4v1.5h4zm6.5 1.25h1.5v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25z"  fill-rule="evenodd"></path></svg>
			<span>Subscribe</span>
		</a>
		<a class="actnbr-action actnbr-actn-following  no-display" href="">
			<svg class="gridicon" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 4.5H4V15C4 15.2761 4.22386 15.5 4.5 15.5H11.5V17H4.5C3.39543 17 2.5 16.1046 2.5 15V4.5V3H4H16H17.5V4.5V12.5H16V4.5ZM5.5 6.5H14.5V8H5.5V6.5ZM5.5 9.5H9.5V11H5.5V9.5ZM12 11H13V12H12V11ZM10.5 9.5H12H13H14.5V11V12V13.5H13H12H10.5V12V11V9.5ZM5.5 12H9.5V13.5H5.5V12Z" fill="#008A20"></path><path class="following-icon-tick" d="M13.5 16L15.5 18L19 14.5" stroke="#008A20" stroke-width="1.5"></path></svg>
			<span>Subscribed</span>
		</a>
										</li>
																	<li class="actnbr-signup"><a href="https://wordpress.com/start/">Sign up</a></li>
									<li class="actnbr-login"><a href="https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fdavejingtian.org%252F2023%252F04%252F09%252Fborland-turbo-c-3-0-on-macos%252F">Log in</a></li>
																	<li class="flb-report">
										<a href="https://wordpress.com/abuse/?report_url=https://davejingtian.org" target="_blank" rel="noopener noreferrer">
											Report this content										</a>
									</li>
																	<li class="actnbr-reader">
										<a href="https://wordpress.com/read/feeds/13323231">
											View site in Reader										</a>
									</li>
																	<li class="actnbr-subs">
										<a href="https://subscribe.wordpress.com/">Manage subscriptions</a>
									</li>
																		<li class="actnbr-fold"><a href="">Collapse this bar</a></li>
															</ul>
					</div>
				</div>
			</li>
		</ul>
	</div>
	
<script>
window.addEventListener( "load", function( event ) {
	var link = document.createElement( "link" );
	link.href = "https://s0.wp.com/wp-content/mu-plugins/actionbar/actionbar.css?v=20240822";
	link.type = "text/css";
	link.rel = "stylesheet";
	document.head.appendChild( link );

	var script = document.createElement( "script" );
	script.src = "https://s0.wp.com/wp-content/mu-plugins/actionbar/actionbar.js?v=20231122";
	script.defer = true;
	document.body.appendChild( script );
} );
</script>

			<div id="jp-carousel-loading-overlay">
			<div id="jp-carousel-loading-wrapper">
				<span id="jp-carousel-library-loading">&nbsp;</span>
			</div>
		</div>
		<div class="jp-carousel-overlay" style="display: none;">

		<div class="jp-carousel-container">
			<!-- The Carousel Swiper -->
			<div
				class="jp-carousel-wrap swiper-container jp-carousel-swiper-container jp-carousel-transitions"
				itemscope
				itemtype="https://schema.org/ImageGallery">
				<div class="jp-carousel swiper-wrapper"></div>
				<div class="jp-swiper-button-prev swiper-button-prev">
					<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<mask id="maskPrev" mask-type="alpha" maskUnits="userSpaceOnUse" x="8" y="6" width="9" height="12">
							<path d="M16.2072 16.59L11.6496 12L16.2072 7.41L14.8041 6L8.8335 12L14.8041 18L16.2072 16.59Z" fill="white"/>
						</mask>
						<g mask="url(#maskPrev)">
							<rect x="0.579102" width="23.8823" height="24" fill="#FFFFFF"/>
						</g>
					</svg>
				</div>
				<div class="jp-swiper-button-next swiper-button-next">
					<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<mask id="maskNext" mask-type="alpha" maskUnits="userSpaceOnUse" x="8" y="6" width="8" height="12">
							<path d="M8.59814 16.59L13.1557 12L8.59814 7.41L10.0012 6L15.9718 12L10.0012 18L8.59814 16.59Z" fill="white"/>
						</mask>
						<g mask="url(#maskNext)">
							<rect x="0.34375" width="23.8822" height="24" fill="#FFFFFF"/>
						</g>
					</svg>
				</div>
			</div>
			<!-- The main close buton -->
			<div class="jp-carousel-close-hint">
				<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<mask id="maskClose" mask-type="alpha" maskUnits="userSpaceOnUse" x="5" y="5" width="15" height="14">
						<path d="M19.3166 6.41L17.9135 5L12.3509 10.59L6.78834 5L5.38525 6.41L10.9478 12L5.38525 17.59L6.78834 19L12.3509 13.41L17.9135 19L19.3166 17.59L13.754 12L19.3166 6.41Z" fill="white"/>
					</mask>
					<g mask="url(#maskClose)">
						<rect x="0.409668" width="23.8823" height="24" fill="#FFFFFF"/>
					</g>
				</svg>
			</div>
			<!-- Image info, comments and meta -->
			<div class="jp-carousel-info">
				<div class="jp-carousel-info-footer">
					<div class="jp-carousel-pagination-container">
						<div class="jp-swiper-pagination swiper-pagination"></div>
						<div class="jp-carousel-pagination"></div>
					</div>
					<div class="jp-carousel-photo-title-container">
						<h2 class="jp-carousel-photo-caption"></h2>
					</div>
					<div class="jp-carousel-photo-icons-container">
						<a href="#" class="jp-carousel-icon-btn jp-carousel-icon-info" aria-label="Toggle photo metadata visibility">
							<span class="jp-carousel-icon">
								<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<mask id="maskInfo" mask-type="alpha" maskUnits="userSpaceOnUse" x="2" y="2" width="21" height="20">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M12.7537 2C7.26076 2 2.80273 6.48 2.80273 12C2.80273 17.52 7.26076 22 12.7537 22C18.2466 22 22.7046 17.52 22.7046 12C22.7046 6.48 18.2466 2 12.7537 2ZM11.7586 7V9H13.7488V7H11.7586ZM11.7586 11V17H13.7488V11H11.7586ZM4.79292 12C4.79292 16.41 8.36531 20 12.7537 20C17.142 20 20.7144 16.41 20.7144 12C20.7144 7.59 17.142 4 12.7537 4C8.36531 4 4.79292 7.59 4.79292 12Z" fill="white"/>
									</mask>
									<g mask="url(#maskInfo)">
										<rect x="0.8125" width="23.8823" height="24" fill="#FFFFFF"/>
									</g>
								</svg>
							</span>
						</a>
												<a href="#" class="jp-carousel-icon-btn jp-carousel-icon-comments" aria-label="Toggle photo comments visibility">
							<span class="jp-carousel-icon">
								<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<mask id="maskComments" mask-type="alpha" maskUnits="userSpaceOnUse" x="2" y="2" width="21" height="20">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M4.3271 2H20.2486C21.3432 2 22.2388 2.9 22.2388 4V16C22.2388 17.1 21.3432 18 20.2486 18H6.31729L2.33691 22V4C2.33691 2.9 3.2325 2 4.3271 2ZM6.31729 16H20.2486V4H4.3271V18L6.31729 16Z" fill="white"/>
									</mask>
									<g mask="url(#maskComments)">
										<rect x="0.34668" width="23.8823" height="24" fill="#FFFFFF"/>
									</g>
								</svg>

								<span class="jp-carousel-has-comments-indicator" aria-label="This image has comments."></span>
							</span>
						</a>
											</div>
				</div>
				<div class="jp-carousel-info-extra">
					<div class="jp-carousel-info-content-wrapper">
						<div class="jp-carousel-photo-title-container">
							<h2 class="jp-carousel-photo-title"></h2>
						</div>
						<div class="jp-carousel-comments-wrapper">
															<div id="jp-carousel-comments-loading">
									<span>Loading Comments...</span>
								</div>
								<div class="jp-carousel-comments"></div>
								<div id="jp-carousel-comment-form-container">
									<span id="jp-carousel-comment-form-spinner">&nbsp;</span>
									<div id="jp-carousel-comment-post-results"></div>
																														<form id="jp-carousel-comment-form">
												<label for="jp-carousel-comment-form-comment-field" class="screen-reader-text">Write a Comment...</label>
												<textarea
													name="comment"
													class="jp-carousel-comment-form-field jp-carousel-comment-form-textarea"
													id="jp-carousel-comment-form-comment-field"
													placeholder="Write a Comment..."
												></textarea>
												<div id="jp-carousel-comment-form-submit-and-info-wrapper">
													<div id="jp-carousel-comment-form-commenting-as">
																													<fieldset>
																<label for="jp-carousel-comment-form-email-field">Email</label>
																<input type="text" name="email" class="jp-carousel-comment-form-field jp-carousel-comment-form-text-field" id="jp-carousel-comment-form-email-field" />
															</fieldset>
															<fieldset>
																<label for="jp-carousel-comment-form-author-field">Name</label>
																<input type="text" name="author" class="jp-carousel-comment-form-field jp-carousel-comment-form-text-field" id="jp-carousel-comment-form-author-field" />
															</fieldset>
															<fieldset>
																<label for="jp-carousel-comment-form-url-field">Website</label>
																<input type="text" name="url" class="jp-carousel-comment-form-field jp-carousel-comment-form-text-field" id="jp-carousel-comment-form-url-field" />
															</fieldset>
																											</div>
													<input
														type="submit"
														name="submit"
														class="jp-carousel-comment-form-button"
														id="jp-carousel-comment-form-button-submit"
														value="Post Comment" />
												</div>
											</form>
																											</div>
													</div>
						<div class="jp-carousel-image-meta">
							<div class="jp-carousel-title-and-caption">
								<div class="jp-carousel-photo-info">
									<h3 class="jp-carousel-caption" itemprop="caption description"></h3>
								</div>

								<div class="jp-carousel-photo-description"></div>
							</div>
							<ul class="jp-carousel-image-exif" style="display: none;"></ul>
							<a class="jp-carousel-image-download" href="#" target="_blank" style="display: none;">
								<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="3" y="3" width="19" height="18">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M5.84615 5V19H19.7775V12H21.7677V19C21.7677 20.1 20.8721 21 19.7775 21H5.84615C4.74159 21 3.85596 20.1 3.85596 19V5C3.85596 3.9 4.74159 3 5.84615 3H12.8118V5H5.84615ZM14.802 5V3H21.7677V10H19.7775V6.41L9.99569 16.24L8.59261 14.83L18.3744 5H14.802Z" fill="white"/>
									</mask>
									<g mask="url(#mask0)">
										<rect x="0.870605" width="23.8823" height="24" fill="#FFFFFF"/>
									</g>
								</svg>
								<span class="jp-carousel-download-text"></span>
							</a>
							<div class="jp-carousel-image-map" style="display: none;"></div>
						</div>
					</div>
				</div>
			</div>
		</div>

		</div>
		<script type="text/javascript">
	window._idl = {};
	_idl.campaign = "";
	_idl.variant = "banner";
	(function() {
		var idl = document.createElement('script');
		idl.async = true;
		idl.src = 'https://members.internetdefenseleague.org/include/?url=' + (_idl.url || '') + '&campaign=' + (_idl.campaign || '') + '&variant=' + (_idl.variant || 'banner');
		document.getElementsByTagName('body')[0].appendChild(idl);
	})();
</script>
<link crossorigin='anonymous' rel='stylesheet' id='all-css-0-2' href='https://s2.wp.com/_static/??-eJylTUkKAjEQ/JCxXTAwB/EtMWlixs5Cupvg72XAAQ/iQS9FVVELjGZ8LYJFIKtppDEVhpFCRGFwKrfaTewpvPOtZ97A5+qM0py/vzTkWhcISsjgXa/KSMAjNezmqiUQ/r22hlbj10FJhMFER4T98U0tB5d83tvpMO2OJ2vnJ7N3e+I=&cssminify=yes' type='text/css' media='all' />
<script type="text/javascript" id="jetpack-carousel-js-extra">
/* <![CDATA[ */
var jetpackSwiperLibraryPath = {"url":"https:\/\/s2.wp.com\/wp-content\/mu-plugins\/jetpack-plugin\/moon\/_inc\/build\/carousel\/swiper-bundle.min.js"};
var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"en","ajaxurl":"https:\/\/davejingtian.org\/wp-admin\/admin-ajax.php","nonce":"56c57fd0bd","display_exif":"1","display_comments":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Comment","post_comment":"Post Comment","write_comment":"Write a Comment...","loading_comments":"Loading Comments...","download_original":"View full size <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>","no_comment_text":"Please be sure to submit some text with your comment.","no_comment_email":"Please provide an email address to comment.","no_comment_author":"Please provide your name to comment.","comment_post_error":"Sorry, but there was an error posting your comment. Please try again later.","comment_approved":"Your comment was approved.","comment_unapproved":"Your comment is in moderation.","camera":"Camera","aperture":"Aperture","shutter_speed":"Shutter Speed","focal_length":"Focal Length","copyright":"Copyright","comment_registration":"0","require_name_email":"0","login_url":"https:\/\/daveti.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fdavejingtian.org%2F2023%2F04%2F09%2Fborland-turbo-c-3-0-on-macos%2F","blog_id":"14794791","meta_data":["camera","aperture","shutter_speed","focal_length","copyright"],"stats_query_args":"blog=14794791&v=wpcom&tz=-4&user_id=0&subd=daveti","is_public":"1"};
/* ]]> */
</script>
<script crossorigin='anonymous' type='text/javascript'  src='https://s0.wp.com/_static/??-eJyljssKwjAQRX/IdFCozUb8FKnTsUycTEIelP59XRgXLhR0eS73BUs0GLSQFvDVRKkzawZHJY54fzL4EBQurAjXyjIB642VC5mMKYg0XjvP2rm8g59acUyhZpKXrwn/1RYWmsw8ilBaP9GXmfbGLBGDf8NH7uxP++HQW2uPQ+82qbOBfA=='></script>

	<script type="text/javascript">
		(function () {
			var wpcom_reblog = {
				source: 'toolbar',

				toggle_reblog_box_flair: function (obj_id, post_id) {

					// Go to site selector. This will redirect to their blog if they only have one.
					const postEndpoint = `https://wordpress.com/post`;

					// Ideally we would use the permalink here, but fortunately this will be replaced with the 
					// post permalink in the editor.
					const originalURL = `${ document.location.href }?page_id=${ post_id }`; 
					
					const url =
						postEndpoint +
						'?url=' +
						encodeURIComponent( originalURL ) +
						'&is_post_share=true' +
						'&v=5';

					const redirect = function () {
						if (
							! window.open( url, '_blank' )
						) {
							location.href = url;
						}
					};

					if ( /Firefox/.test( navigator.userAgent ) ) {
						setTimeout( redirect, 0 );
					} else {
						redirect();
					}
				},
			};

			window.wpcom_reblog = wpcom_reblog;
		})();
	</script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script>		<script type="text/javascript">
			(function() {
				var extend = function(out) {
					out = out || {};

					for (var i = 1; i < arguments.length; i++) {
						if (!arguments[i])
						continue;

						for (var key in arguments[i]) {
						if (arguments[i].hasOwnProperty(key))
							out[key] = arguments[i][key];
						}
					}

					return out;
				};
				extend( window.infiniteScroll.settings.scripts, ["mobile-useragent-info","jetpack-mu-wpcom-settings","rlt-proxy","media-video-jwt-bridge","wpcom-actionbar-placeholder","grofiles-cards","wpgroho","the-neverending-homepage","jetpack-carousel","tiled-gallery","carousel-wpcom"] );
				extend( window.infiniteScroll.settings.styles, ["the-neverending-homepage","wp-block-library","wp-block-library-theme","mediaelement","wp-mediaelement","jetpack-layout-grid","jetpack-ratings","coblocks-frontend","wpcom-core-compat-playlist-styles","wpcom-text-widget-styles","wpcom-bbpress2-staff-css","twentyten-block-style","twentyten-wpcom-style","reblogging","geo-location-flair","infinity-twentyten","h4-global","wp-emoji-styles","videopress-video-style","jetpack-sharing-buttons-style","classic-theme-styles","global-styles","jetpack-global-styles-frontend-style","widget-author_grid","jetpack-carousel-swiper-css","jetpack-carousel","tiled-gallery","core-block-supports-duotone"] );
			})();
		</script>
				<span id="infinite-aria" aria-live="polite"></span>
		<script src="//stats.wp.com/w.js?67" defer></script> <script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'14794791','blog_tz':'-4','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'14794791','v':'wpcom','tz':'-4','user_id':'0','subd':'daveti'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1mNzc2NTVTamdsRWFxcEV3XUtMXVR5aWlmMVNIcUxBaFstUWRrZVpWQ2tORExSfEpUVm05SlpEZzZWOEtlbW5nZHV0dkhDNjhwP35JbkdHLyZqSUh8WkZWbVl3Qll2LkguSkRJZGEtZV9DRDIwUGZ5XTdFRkNjSkxHdDMuY3w2WnlmdzNCa08rRnZ5dFRpTVpiJXh1S2xPTyswfnkxMHpHQVM2YkVDbUctLj9vWXw/cEtdd01ILHRsXW1vLlNkTk5UWy5heXg3LzhzfltJZj9UMlYvbUlGJWguUlAsVnFJeUdyZGROSHc9R19HZGJlN29FLHZTL0hlZjZ3d0ZMdDhRdy5KakJIaTRwJkImR1ArQ35kZFszXWZJcU98X1dub0IyeWFzJUdOTTRGQ0RLc1JsVW1YQk4lL2h2TmVTXXdzeGFpcUlqWDc9TnMv'}]);
_stq.push([ 'clickTrackerInit', '14794791', '0' ]);
</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:1px;width:1px;overflow:hidden;position:absolute;bottom:1px;" alt="" /></noscript>
<script defer id="bilmur" data-customproperties="{&quot;logged_in&quot;:&quot;0&quot;,&quot;wptheme&quot;:&quot;pub\/twentyten&quot;,&quot;wptheme_is_block&quot;:&quot;0&quot;}" data-provider="wordpress.com" data-service="simple"   src="/wp-content/js/bilmur.min.js?i=12&m=202437"></script><script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>
